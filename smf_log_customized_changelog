+ cd /free5gc
+ cat config/smfcfg.conf
configuration:
  mongodb:
    name: smf
    url: mongodb://mongodb:27017
  nfKafka:
    enable: false
    topic: sdcore-nf-data-source
    urls:
    - sd-core-kafka-headless:9092
  nrfUri: http://nrf:29510
  pfcp:
    addr: POD_IP
  sbi:
    bindingIPv4: 0.0.0.0
    port: 29502
    registerIPv4: smf
    scheme: http
    tls:
      key: gofree5gc/support/TLS/smf.key
      pem: gofree5gc/support/TLS/smf.pem
  serviceNameList:
  - nsmf-pdusession
  - nsmf-event-exposure
  smfName: SMF
  snssaiInfos:
  - dnnInfos:
    - dnn: internet
      dns:
        ipv4: 8.8.8.8
        ipv6: 2001:4860:4860::8888
      ueSubnet: 172.250.0.0/16
    sNssai:
      sd: "010203"
      sst: 1
  userplane_information:
    links:
    - A: gNB1
      B: UPF
    up_nodes:
      UPF:
        interfaces:
        - endpoints:
          - upf
          interfaceType: N3
          networkInstance: internet
        node_id: upf
        sNssaiUpfInfos:
        - dnnUpfInfoList:
          - dnn: internet
          plmnId:
            mcc: "208"
            mnc: "93"
          sNssai:
            sd: "010203"
            sst: 1
        - dnnUpfInfoList:
          - dnn: internet
          plmnId:
            mcc: "208"
            mnc: "93"
          sNssai:
            sd: "112233"
            sst: 1
        type: UPF
      gNB1:
        type: AN
info:
  description: SMF initial local configuration
  version: 1.0.0
logger:
  AMF:
    ReportCaller: false
    debugLevel: info
  AUSF:
    ReportCaller: false
    debugLevel: info
  Aper:
    ReportCaller: false
    debugLevel: info
  CommonConsumerTest:
    ReportCaller: false
    debugLevel: info
  FSM:
    ReportCaller: false
    debugLevel: info
  MongoDBLibrary:
    ReportCaller: false
    debugLevel: info
  N3IWF:
    ReportCaller: false
    debugLevel: info
  NAS:
    ReportCaller: false
    debugLevel: info
  NGAP:
    ReportCaller: false
    debugLevel: info
  NRF:
    ReportCaller: false
    debugLevel: info
  NamfComm:
    ReportCaller: false
    debugLevel: info
  NamfEventExposure:
    ReportCaller: false
    debugLevel: info
  NsmfPDUSession:
    ReportCaller: false
    debugLevel: info
  NudrDataRepository:
    ReportCaller: false
    debugLevel: info
  OpenApi:
    ReportCaller: false
    debugLevel: info
  PCF:
    ReportCaller: false
    debugLevel: info
  PFCP:
    ReportCaller: false
    debugLevel: info
  PathUtil:
    ReportCaller: false
    debugLevel: info
  SMF:
    ReportCaller: false
    debugLevel: info
  UDM:
    ReportCaller: false
    debugLevel: info
  UDR:
    ReportCaller: false
    debugLevel: info
  WEBUI:
    ReportCaller: false
    debugLevel: info+ cat uerouting/uerouting.conf
info:
  description: Routing information for UE
  version: 1.0.0+ GOTRACEBACK=crash ./smf/smf -smfcfg config/smfcfg.conf -uerouting uerouting/uerouting.conf
smf
2022-06-15T18:53:45Z[36m [INFO][Config5g][GRPC] [0mcreate config client
2022-06-15T18:53:45Z[36m [INFO][Config5g][GRPC] [0mDial grpc connection -  webui:9876
INFO: 2022/06/15 18:53:45 [core] parsed scheme: ""
INFO: 2022/06/15 18:53:45 [core] scheme "" not registered, fallback to default scheme
INFO: 2022/06/15 18:53:45 [core] ccResolverWrapper: sending update to cc: {[{webui:9876  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2022/06/15 18:53:45 [core] ClientConn switching balancer to "pick_first"
INFO: 2022/06/15 18:53:45 [core] Channel switches to new LB policy "pick_first"
INFO: 2022/06/15 18:53:45 [core] Subchannel Connectivity change to CONNECTING
2022-06-15T18:53:45Z[36m [INFO][SMF][Init] [0mSMF Log level is set to [info] level
2022-06-15T18:53:45Z[36m [INFO][LIB][NAS] [0mset log level : info
INFO: 2022/06/15 18:53:45 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:45 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:45 [core] Channel Connectivity change to CONNECTING
2022-06-15T18:53:45Z[36m [INFO][LIB][NAS] [0mset report call : false
2022-06-15T18:53:45Z[36m [INFO][LIB][NGAP] [0mset log level : info
2022-06-15T18:53:45Z[36m [INFO][LIB][NGAP] [0mset report call : false
2022-06-15T18:53:45Z[36m [INFO][LIB][Aper] [0mset log level : info
2022-06-15T18:53:45Z[36m [INFO][LIB][Aper] [0mset report call : false
2022-06-15T18:53:45Z[36m [INFO][LIB][Path] [0mset log level : info
2022-06-15T18:53:45Z[36m [INFO][LIB][Path] [0mset report call : false
2022-06-15T18:53:45Z[36m [INFO][LIB][PFCP] [0mset log level : info
2022-06-15T18:53:45Z[36m [INFO][Config5g][GRPC] [0msubscribeToConfigPod
2022-06-15T18:53:45Z[36m [INFO][LIB][PFCP] [0mset report call : false
2022-06-15T18:53:45Z[33m [WARN][LIB][MonDB] [0mMongoDBLibrary Log level not set. Default set to [info] level
2022-06-15T18:53:45Z[36m [INFO][LIB][MonDB] [0mset log level : info
2022-06-15T18:53:45Z[36m [INFO][SMF][CFG] [0mSMF config version [1.0.0]
2022-06-15T18:53:45Z[36m [INFO][SMF][CFG] [0mUE-Routing config version [1.0.0]
2022-06-15T18:53:45Z[36m [INFO][SMF][Init] [0mSMF app initialising...
2022-06-15T18:53:45Z[36m [INFO][SMF][CTX] [0msmfconfig Info: Version[1.0.0] Description[SMF initial local configuration]
2022-06-15T18:53:45Z[36m [INFO][SMF][CTX] [0mParsing PFCP IPv4 address from ENV variable found.
2022-06-15T18:53:45Z[36m [INFO][SMF][Init] [0mNetwork Slices to be inserted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[2001:4860:4860::8888], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:53:45Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] to insert, content[&{UPF upf   [{0xc0002f51c0 [{internet [] []}]} {0xc0002f5240 [{internet [] []}]}] [{N3 [upf] internet}]}]
2022-06-15T18:53:45Z[36m [INFO][SMF][CTX] [0mEndpoints: [upf]
2022-06-15T18:53:45Z[33m [WARN][LIB][PFCP] [0mhost [upf] not found in smf dns cache
2022-06-15T18:53:45Z[36m [INFO][LIB][PFCP] [0mhost [upf] dns resolved, updating smf dns cache
2022-06-15T18:53:45Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] to insert, content[&{AN    [] []}]
2022-06-15T18:53:45Z[36m [INFO][SMF][UPNode] [0minserting UP Node link[&{gNB1 UPF}]
2022-06-15T18:53:45Z[36m [INFO][SMF][Init] [0mConfiguration is managed by Config Pod
2022-06-15T18:53:45Z[36m [INFO][SMF][Init] [0mwaiting for initial configuration from config pod
WARNING: 2022/06/15 18:53:46 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: i/o timeout". Reconnecting...
INFO: 2022/06/15 18:53:46 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:46 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: i/o timeout"}
INFO: 2022/06/15 18:53:46 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:47 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:47 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:47 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:47 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:53:49 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:53:49 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:49 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused"}
INFO: 2022/06/15 18:53:49 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:50 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:50 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:50 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:50 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:53:51 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: i/o timeout". Reconnecting...
INFO: 2022/06/15 18:53:51 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: i/o timeout"}
INFO: 2022/06/15 18:53:51 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:51 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:51 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:53:52 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: i/o timeout". Reconnecting...
INFO: 2022/06/15 18:53:52 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:52 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: i/o timeout"}
INFO: 2022/06/15 18:53:52 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:53 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:53 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:53 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:53 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:53:53 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:53:53 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:53 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused"}
INFO: 2022/06/15 18:53:53 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:54 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:54 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:54 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:54 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:53:54 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:53:54 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:54 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused"}
INFO: 2022/06/15 18:53:54 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:55 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:55 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:55 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:55 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:53:55 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:53:55 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:55 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.159:9876: connect: connection refused"}
INFO: 2022/06/15 18:53:55 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:53:56 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:56 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:53:56 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {CONNECTING <nil>}
INFO: 2022/06/15 18:53:56 [core] Channel Connectivity change to CONNECTING
INFO: 2022/06/15 18:53:56 [core] Subchannel Connectivity change to READY
INFO: 2022/06/15 18:53:56 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d8ad0, {READY <nil>}
INFO: 2022/06/15 18:53:56 [core] Channel Connectivity change to READY
2022-06-15T18:53:56Z[36m [INFO][Config5g][GRPC] [0mconnectivity ready
2022-06-15T18:53:56Z[36m [INFO][Config5g][GRPC] [0mstream msg recieved
2022-06-15T18:53:56Z[36m [INFO][Config5g][GRPC] [0mFirst time config Received  RestartCounter:2800455336  NetworkSlice:{Name:"default"  Nssai:{Sst:"1"  Sd:"010203"}  DeviceGroup:{Name:"5g-gnbsim-user"  IpDomainDetails:{Name:"pool1"  DnnName:"internet"  UePool:"172.250.0.0/16"  DnsPrimary:"8.8.8.8"  Mtu:1460  UeDnnQos:{DnnMbrUplink:4000000  DnnMbrDownlink:20000000  TrafficClass:{Name:"platinum"  Qci:9  Arp:6  Pdb:300  Pelr:6}}}  Imsi:"208930100007487"  Imsi:"208930100007488"  Imsi:"208930100007489"  Imsi:"208930100007490"  Imsi:"208930100007491"  Imsi:"208930100007492"  Imsi:"208930100007493"  Imsi:"208930100007494"  Imsi:"208930100007495"  Imsi:"208930100007496"  Imsi:"208930100007497"  Imsi:"208930100007498"  Imsi:"208930100007499"  Imsi:"208930100007500"  Imsi:"208930100007501"}  Site:{SiteName:"aiab"  Gnb:{Name:"aiab-gnb1"  Tac:1}  Plmn:{mcc:"208"  mnc:"93"}  Upf:{UpfName:"upf"}}  AppFilters:{PccRuleBase:{FlowInfos:{FlowDesc:"permit out ip from any to assigned"  TosTrafficClass:"IPV4"  FlowDir:BIDIRECTIONAL  FlowStatus:ENABLED}  RuleId:"ALLOW-ALL"  Qos:{Var5qi:9  Arp:{PL:6  PC:MAY_PREEMPT  PV:PREEMPTABLE}}  Priority:250}}}  ConfigUpdated:1
2022-06-15T18:53:56Z[36m [INFO][SMF][GRPC] [0mreceived updateConfig in the smf app: RestartCounter:2800455336  NetworkSlice:{Name:"default"  Nssai:{Sst:"1"  Sd:"010203"}  DeviceGroup:{Name:"5g-gnbsim-user"  IpDomainDetails:{Name:"pool1"  DnnName:"internet"  UePool:"172.250.0.0/16"  DnsPrimary:"8.8.8.8"  Mtu:1460  UeDnnQos:{DnnMbrUplink:4000000  DnnMbrDownlink:20000000  TrafficClass:{Name:"platinum"  Qci:9  Arp:6  Pdb:300  Pelr:6}}}  Imsi:"208930100007487"  Imsi:"208930100007488"  Imsi:"208930100007489"  Imsi:"208930100007490"  Imsi:"208930100007491"  Imsi:"208930100007492"  Imsi:"208930100007493"  Imsi:"208930100007494"  Imsi:"208930100007495"  Imsi:"208930100007496"  Imsi:"208930100007497"  Imsi:"208930100007498"  Imsi:"208930100007499"  Imsi:"208930100007500"  Imsi:"208930100007501"}  Site:{SiteName:"aiab"  Gnb:{Name:"aiab-gnb1"  Tac:1}  Plmn:{mcc:"208"  mnc:"93"}  Upf:{UpfName:"upf"}}  AppFilters:{PccRuleBase:{FlowInfos:{FlowDesc:"permit out ip from any to assigned"  TosTrafficClass:"IPV4"  FlowDir:BIDIRECTIONAL  FlowStatus:ENABLED}  RuleId:"ALLOW-ALL"  Qos:{Var5qi:9  Arp:{PL:6  PC:MAY_PREEMPT  PV:PREEMPTABLE}}  Priority:250}}}  ConfigUpdated:1
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mParsed SMF config : &{SmfName: Sbi:<nil> PFCP:<nil> NrfUri: UserPlaneInformation:{UPNodes:map[aiab-gnb1:{Type:AN NodeID:aiab-gnb1 ANIP: Dnn: SNssaiInfos:[] InterfaceUpfInfoList:[]} upf:{Type:UPF NodeID:upf ANIP: Dnn: SNssaiInfos:[{SNssai:0xc000784780 DnnUpfInfoList:[{Dnn:internet DnaiList:[] PduSessionTypes:[]}]}] InterfaceUpfInfoList:[{InterfaceType:N3 Endpoints:[upf] NetworkInstance:internet}]}] Links:[{A:aiab-gnb1 B:upf}]} ServiceNameList:[] SNssaiInfo:[{SNssai:0xc000784780 DnnInfos:[{Dnn:internet DNS:{IPv4Addr:8.8.8.8 IPv6Addr:} UESubnet:172.250.0.0/16 MTU:1460}] PlmnId:{Mcc:208 Mnc:93}}] ULCL:false EnterpriseList:map[1010203:default]}
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mComparing slices of type:  []factory.SnssaiDnnInfoItem
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mComparing slices of type:  []factory.SnssaiDnnInfoItem
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mchanges in network slice config
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mnetwork slices to be modified : 
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16]
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mchanges in user plane config
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mUP nodes to be deleted : 
 UPNode Name[UPF], Type[UPF], NodeId[upf], 
 Slice SST[1] SD[010203] 
 DNN name[internet], DNAI[[]], PDU Sess Type[[]] 
 Slice SST[1] SD[112233] 
 DNN name[internet], DNAI[[]], PDU Sess Type[[]] 
 UP interface type[N3], network instance[internet], endpoints[[upf]], 
 UPNode Name[gNB1], Type[AN], NodeId[],
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mUP nodes to be added : 
 UPNode Name[upf], Type[UPF], NodeId[upf], 
 Slice SST[1] SD[010203] 
 DNN name[internet], DNAI[[]], PDU Sess Type[[]] 
 UP interface type[N3], network instance[internet], endpoints[[upf]], 
 UPNode Name[aiab-gnb1], Type[AN], NodeId[aiab-gnb1],
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mComparing slices of type:  []factory.UPLink
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mchanges in UP nodes links config
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mUP nodes links to be added : [{A:aiab-gnb1 B:upf}]
2022-06-15T18:53:56Z[36m [INFO][SMF][CFG] [0mUP nodes links to be deleted : [{A:gNB1 B:UPF}]
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mminimum configuration from config pod available
2022-06-15T18:53:56Z[36m [INFO][SMF][CTX] [0mDynamic config update received [{DelSNssaiInfo:<nil> ModSNssaiInfo:0xc000784a20 AddSNssaiInfo:<nil> DelUPNodes:0xc000788050 ModUPNodes:<nil> AddUPNodes:0xc000788040 AddLinks:0xc000784da0 DelLinks:0xc000784e00 EnterpriseList:0xc0004a0478}]
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mNetwork Slices to be modified [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mNetwork Slices to be deleted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mnetwork slices deleted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mNetwork Slices to be inserted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mdeleting UP Node link[&{gNB1 UPF}]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] to delete, content[&{UPF upf   [{0xc0002f51c0 [{internet [] []}]} {0xc0002f5240 [{internet [] []}]}] [{N3 [upf] internet}]}]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] deleted from UP-Pool
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] deleted from table[UPNodes]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] deleted from table[UPFIPToName]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] to delete, content[&{AN    [] []}]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] deleted from table[UPNodes]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] deleted from table[UPFIPToName]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[upf] to insert, content[&{UPF upf   [{0xc000784780 [{internet [] []}]}] [{N3 [upf] internet}]}]
2022-06-15T18:53:56Z[36m [INFO][SMF][CTX] [0mEndpoints: [upf]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mUPNode[aiab-gnb1] to insert, content[&{AN aiab-gnb1   [] []}]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0minserting UP Node link[&{aiab-gnb1 upf}]
2022-06-15T18:53:56Z[36m [INFO][SMF][CTX] [0mDynamic config update, enterprise info [map[1010203:default]]
2022-06-15T18:53:56Z[36m [INFO][SMF][UPNode] [0mresetting the default user plane paths [map[]]
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mDynamic config update task initialised
2022-06-15T18:53:56Z[36m [INFO][SMF][Consumer] [0mNRF Registration success, status [Created]
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mSMF Registration to NRF {6fc788a0-e339-4b12-8a09-acb27c22897f SMF REGISTERED 0 0xc0005b19e0 0xc0005b1a20 [] []   [smf] [] 0xc0005b17c0 [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> 0xc000121740 <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc0005b1860 false false []}
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /nsmf-oam/v1/             --> github.com/omec-project/smf/oam.Index (3 handlers)
[GIN-debug] GET    /nsmf-oam/v1/ue-pdu-session-info/:smContextRef --> github.com/omec-project/smf/oam.HTTPGetUEPDUSessionInfo (3 handlers)
[GIN-debug] POST   /nsmf-callback/sm-policies/:smContextRef/update --> github.com/omec-project/smf/callback.HTTPSmPolicyUpdateNotification (3 handlers)
[GIN-debug] POST   /nsmf-callback/sm-policies/:smContextRef/terminate --> github.com/omec-project/smf/callback.SmPolicyControlTerminationRequestNotification (3 handlers)
[GIN-debug] POST   /nsmf-callback/sm-n1n2failnotify/:smContextRef --> github.com/omec-project/smf/callback.N1N2FailureNotification (3 handlers)
[GIN-debug] GET    /nsmf-pdusession/v1/      --> github.com/omec-project/smf/pdusession.Index (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/pdu-sessions/:pduSessionRef/release --> github.com/omec-project/smf/pdusession.ReleasePduSession (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/pdu-sessions/:pduSessionRef/modify --> github.com/omec-project/smf/pdusession.UpdatePduSession (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts/:smContextRef/release --> github.com/omec-project/smf/pdusession.HTTPReleaseSmContext (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts/:smContextRef/retrieve --> github.com/omec-project/smf/pdusession.RetrieveSmContext (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts/:smContextRef/modify --> github.com/omec-project/smf/pdusession.HTTPUpdateSmContext (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/pdu-sessions --> github.com/omec-project/smf/pdusession.PostPduSessions (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts --> github.com/omec-project/smf/pdusession.HTTPPostSmContexts (3 handlers)
[GIN-debug] GET    /nsmf_event-exposure/v1   --> github.com/omec-project/smf/eventexposure.Index (3 handlers)
[GIN-debug] POST   /nsmf_event-exposure/v1/subscriptions --> github.com/omec-project/smf/eventexposure.SubscriptionsPost (3 handlers)
[GIN-debug] DELETE /nsmf_event-exposure/v1/subscriptions/:subId --> github.com/omec-project/smf/eventexposure.SubscriptionsSubIdDelete (3 handlers)
[GIN-debug] GET    /nsmf_event-exposure/v1/subscriptions/:subId --> github.com/omec-project/smf/eventexposure.SubscriptionsSubIdGet (3 handlers)
[GIN-debug] PUT    /nsmf_event-exposure/v1/subscriptions/:subId --> github.com/omec-project/smf/eventexposure.SubscriptionsSubIdPut (3 handlers)
2022-06-15T18:53:56Z[36m [INFO][SMF][Init] [0mSetupSmfCollection
db - SetupSmfCollection!!
2022-06-15T18:53:56Z[36m [INFO][LIB][MonDB] [0mindex :  ref_1
2022-06-15T18:53:56Z[36m [INFO][LIB][MonDB] [0mindex :  txnId_1
2022-06-15T18:53:56Z[36m [INFO][LIB][MonDB] [0mindex :  seid_1
in db - testdb() result 0x0in db - testdb() result type (0x144c0e0,0x10197a0)2022-06-15T18:53:56Z[36m [INFO][SMF][PFCP] [0mListen on 192.168.84.18:8805
2022-06-15T18:53:56Z[36m [INFO][SMF][App] [0mSend PFCP Association Request to UPF[upf](192.168.85.148)
2022-06-15T18:53:56Z[36m [INFO][SMF][PFCP] [0mSent PFCP Association Request to NodeID[192.168.85.148]
2022-06-15T18:53:56Z[36m [INFO][SMF][PFCP] [0mHandle PFCP Association Setup Response with NodeID[192.168.85.148]
2022-06-15T18:53:56Z[36m [INFO][SMF][PFCP] [0mUPF[192.168.85.148] received N3 interface IP[192.168.252.3], network instance[internet] and TEID[0]
2022-06-15T18:53:56Z[36m [INFO][SMF][PFCP] [0mUPF(192.168.85.148)[internet] setup association
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess] [0mRecieve Create SM Context Request
db - in new smcontext smcontext val ref urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[activeTxn:map[CtxtKey: CtxtRef: Err:<nil> MsgType: NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:0] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType: dnn: dnnConfiguration:map[pduSessionTypes:<nil> sscModes:<nil>] identifier:imsi-208930100007497 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:false DNSIPv6Request:false IPv4LinkMTURequest:false] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[nfInstanceId: nfStatus: nfType:] smContextState:0 smLock:map[] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smTxnBusLock:map[] snssai:<nil> tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, SM context created
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1]
db - finished StoreTxnInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[pduSessionTypes:<nil> sscModes:<nil>] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:false DNSIPv6Request:false IPv4LinkMTURequest:false] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[nfInstanceId: nfStatus: nfType:] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:0 smLock:map[] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, send NF Discovery Serving UDM Successful
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, IP alloc success IP[172.250.0.1]
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, subscription data retrieved from UDM
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:false DNSIPv6Request:false IPv4LinkMTURequest:false] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[nfInstanceId: nfStatus: nfType:] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:0 smLock:map[] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][NAS][Convert] [0mProtocolOrContainerList:  [0xc000784060 0xc0007840a0 0xc0007840e0]
2022-06-15T18:54:58Z[36m [INFO][SMF][GSM][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mProtocol Configuration Options
2022-06-15T18:54:58Z[36m [INFO][SMF][GSM][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0m&{[0xc000784060 0xc0007840a0 0xc0007840e0]}
2022-06-15T18:54:58Z[36m [INFO][SMF][GSM][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mDidn't Implement container type IPAddressAllocationViaNASSignallingUL
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, send NF Discovery Serving PCF success
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, Policy association create success
2022-06-15T18:54:58Z[36m [INFO][SMF][QosFsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, received SM policy data: 
PCC Rules: 
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]
Session Rules: 
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]
QosData: 
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]
TCData: 
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]
2022-06-15T18:54:58Z[36m [INFO][SMF][QosFsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, generated SM policy update: Policy Update:[
PccRule:[
PCC Rule Changes:
[to add:[
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]]
[to mod:[]]
[to del:[]]], 
SessRules:[
Sess Rule Changes:
[to add:[
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]]
[to mod:[]]
[to del:[]]], 
QosData:[
Qos Data Changes:
[to add:[
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]]
[to mod:[]]
[to del:[]]], 
TcData:[
TC Data Changes:
[to add:[
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]]
[to mod:[]]
[to del:[]]]]
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, no pre-config route
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mupfSelectionParams Dnn: internet
Sst: 1, Sd: 010203
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0msmf_context.GetUserPlaneInformation() res &{map[aiab-gnb1:0xc0000d6180 upf:0xc0000d6100] map[upf:0xc0000d6100] map[aiab-gnb1:0xc0000d6180] map[192.168.85.148:upf <nil>:aiab-gnb1] map[upf:91b21ae2-b55e-4692-95bb-17e6604f3965] map[192.168.85.148:91b21ae2-b55e-4692-95bb-17e6604f3965] map[Dnn: internet
Sst: 1, Sd: 010203
:[0xc0000d6100]]}
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdefaultUPPath [0xc0000d6100]
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdefaultPath DataPath Meta Information
Activated: false
IsDefault Path: false
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess] [0mdb - in validateDataPathUpfStatus dataPath.FirstDPNode &{0xc0004a23c0 0xc0005b0d80 0xc0005b0da0 false}
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess] [0mNodes in Data Path [192.168.85.148] and status [AssociatedSetUpSuccess]
db - StoreSeidContextInDB In DB!! smcontext  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 <nil> {   0 <nil> <nil> [] []   [] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false <nil> false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateInit 0xc000528960 <nil> map[192.168.85.148:
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  0

] 0xc000438070 map[] false false 0xc000120a80 [Policy Update:[
PccRule:[
PCC Rule Changes:
[to add:[
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]]
[to mod:[]]
[to del:[]]], 
SessRules:[
Sess Rule Changes:
[to add:[
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]]
[to mod:[]]
[to del:[]]], 
QosData:[
Qos Data Changes:
[to add:[
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]]
[to mod:[]]
[to del:[]]], 
TcData:[
TC Data Changes:
[to add:[
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]]
[to mod:[]]
[to del:[]]]]] {{map[]  <nil>} {map[]} {map[]} {map[]} {map[]} {map[]}} 0 0 0xc00050c1c8 {1 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0}  txn-id [1], txn-type [CreateSmContext], txn-key [] }
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[seid:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 seid:1]
db - finished StoreSeidContextInDB In DB!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:false Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:false Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:false Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mactivate UpLink PDR[ALLOW-ALL]:[PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]]
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mactivate Downlink PDR[ALLOW-ALL]:[PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[<nil>], NetworkInstance:[[]], UEIpAddr:[<nil>], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]]
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mactivate Downlink PDR[ALLOW-ALL]:[PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[<nil>], NetworkInstance:[[]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]]
2022-06-15T18:54:58Z[36m [INFO][SMF][Consumer][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0msend NF Discovery Serving AMF Successful
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextCreate, PDU session context create success
db - in HandlePDUSessionSMContextCreate
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:map[Body:map[jsonData:map[sNssai:map[sd:010203 sst:1]]] Header:map[Location:[urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7]] Status:201] TxnId:1] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateInit] next state[SmStatePfcpCreatePending]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:map[Body:map[jsonData:map[sNssai:map[sd:010203 sst:1]]] Header:map[Location:[urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7]] Status:201] TxnId:1] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:5 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][TxnFsm][][1][CreateSmContext] [0mtxn ended, execution time [58.086716ms]
2022-06-15T18:54:58Z[36m [INFO][SMF][GIN] [0m| 201 |   192.168.84.19 | POST    | /nsmf-pdusession/v1/sm-contexts |
2022-06-15T18:54:58Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStatePfcpCreatePendingEventPfcpSessCreate txn %v txn-id [2], txn-type [PfcpSessCreate], txn-key []
2022-06-15T18:54:58Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStatePfcpCreatePendingEventPfcpSessCreate smCtxt %v&{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStatePfcpCreatePending 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  0

] 0xc000438070 map[] false false 0xc000120a80 [Policy Update:[
PccRule:[
PCC Rule Changes:
[to add:[
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]]
[to mod:[]]
[to del:[]]], 
SessRules:[
Sess Rule Changes:
[to add:[
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]]
[to mod:[]]
[to del:[]]], 
QosData:[
Qos Data Changes:
[to add:[
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]]
[to mod:[]]
[to del:[]]], 
TcData:[
TC Data Changes:
[to add:[
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]]
[to mod:[]]
[to del:[]]]]] {{map[]  <nil>} {map[]} {map[]} {map[]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0}  txn-id [2], txn-type [PfcpSessCreate], txn-key [] }
db - in SendPFCPRules smContext.Tunnel.DataPathPool %v map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
]
db - in SendPFCPRules dataPath.Activated %v true
db - in SendPFCPRules before SendPfcpSessionEstablishmentRequest sessionContext.RemoteSEID and exist and pfcp.nodeID 0 true {2 [117 112 102]}
2022-06-15T18:54:58Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mSent PFCP Session Establish Request to NodeID[192.168.85.148]
db - in SendPFCPRules before StoreSmContextInDB
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  PfcpSessCreate
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:2])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:PfcpSessCreate NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:2] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:5 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionEstablishmentResponse
2022-06-15T18:54:58Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Session Establishment accepted
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpCreatePending] next state[SmStateN1N2TransferPending]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  PfcpSessCreate
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:2])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:PfcpSessCreate NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:2] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][TxnFsm][][2][PfcpSessCreate] [0mtxn ended, execution time [14.561782ms]
&{4000 Kbps 20000 Kbps}
2022/06/15 18:54:58 Building QoS Rule from PCC rule [ALLOW-ALL]
2022/06/15 18:54:58 Adding Qos Flow Description [1] 
2022-06-15T18:54:58Z[33m [WARN][SMF][GSM][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mError while adding DNS IPv6 Addr:  The DNS IP should be IPv6 in AddDNSServerIPv6Address!
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mN1N2 transfer initiated
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  N1N2MessageTransfer
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:3])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mN1N2 Transfer completed
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  N1N2MessageTransfer
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:3])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2b02b291315d723d0393") activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
N1N2 Transfer customized changelog... 
N1N2 Transfer customized changelog tmp_ctx.PDUAddress =  172.250.0.1
N1N2 Transfer customized changelog smContext.PDUAddress =  172.250.0.1
N1N2 Transfer customized changelog tmp_ctx.Tunnel.DataPathPool  =  map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
]
N1N2 Transfer customized changelog smContext.Tunnel.DataPathPool = map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
]
N1N2 Transfer customized changelog tmp_ctx.Tunnel.DataPathPool =  map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
]
N1N2 Transfer customized changelog smContext.Tunnel.DataPathPool =  map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
]
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateN1N2TransferPending] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  N1N2MessageTransfer
db - StoreTxnInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:3])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:58Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:58Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:58Z[36m [INFO][SMF][TxnFsm][][3][N1N2MessageTransfer] [0mtxn ended, execution time [20.920775ms]
2022-06-15T18:54:59Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2b02b291315d723d0393") activeTxn:map[CtxtKey: CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f71e0 <nil> 0xc0003f6fa0 8c7af357-64d6-4b88-9d17-d9e8ec786fae  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000a01020 0xc000a01050 false 0xc0003f6360 0xc0003f63a0  [] <nil>} 0xc0003f6fc0 0xc0004afa80 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc0003f62e0 0xc0003f6320 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc00066f4a0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051dee0 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc0003f6f40 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00066f4f0 <nil> <nil> <nil> map[] <nil> false 0xc0003f6580 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000a015f0 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274391000

] 0xc000438000 map[] false false 0xc000120b40 [] {{map[internet-1:0xc000121600] internet-1 0xc0001215c0} {map[ALLOW-ALL:0xc00021cf70]} {map[1:0xc000199ef0]} {map[TcId-2:0xc0003e3b20]} {map[]} {map[]}} 0 0 0xc00040ef1a {0 0} 0xc0003e3f80 0xc0003e3d50 0xc0003e3f10 0xc0003e3ea0 0xc000684000 0xc000684070 0xc0006840e0 [] {0 0}  txn-id [3], txn-type [N1N2MessageTransfer], txn-key [] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [3], txn-type [N1N2MessageTransfer], txn-key [] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000528900 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {<nil> 0}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc000a01620 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {<nil> 0}}
2022-06-15T18:54:59Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7]
2022-06-15T18:54:59Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0}  txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
PDUSessionSMContextUpdate, txn =   txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
2022-06-15T18:54:59Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:54:59Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, N2 SM info type PDU_RES_SETUP_RSP received
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:54:59Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:54:59Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mSent PFCP Session Modify Request to NodeID[192.168.85.148]
2022-06-15T18:54:59Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:54:59Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Modification Response Accept
2022-06-15T18:54:59Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Session Modification Success[1]
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:54:59Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:54:59Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]]]] Rsp:map[Body:map[jsonData:map[]] Header:<nil> Status:200] TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:54:59Z[36m [INFO][SMF][TxnFsm][][4][UpdateSmContext] [0mtxn ended, execution time [34.044303ms]
2022-06-15T18:54:59Z[36m [INFO][SMF][GIN] [0m| 200 |   192.168.84.19 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7/modify |
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2b02b291315d723d0393") activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]]]] Rsp:map[Body:map[jsonData:map[]] Header:<nil> Status:200] TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae ACTIVATED 3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[&{1 2248146944 192.168.251.5 <nil> 0}], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f6cc0 <nil> 0xc0003f6520 8c7af357-64d6-4b88-9d17-d9e8ec786fae ACTIVATED 3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0007451a0 0xc0007451d0 false 0xc000799ee0 0xc000799f20  [] <nil>} 0xc0003f6560 0xc0006a8a00 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc000799d60 0xc000799ea0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000783f90 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000799a00 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc0003f64e0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc0000301e0 <nil> <nil> <nil> map[] <nil> false 0xc0003f6160 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc0007457d0 <nil> map[192.168.85.148:
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[&{1 2248146944 192.168.251.5 <nil> 0}], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274391000

] 0xc0004380e0 map[192.168.85.148:true] false false 0xc000121700 [] {{map[internet-1:0xc000121b80] internet-1 0xc000121b40} {map[ALLOW-ALL:0xc0001be1a0]} {map[1:0xc000199ef0]} {map[TcId-2:0xc00067e1c0]} {map[]} {map[]}} 0 0 0xc0004fef9a {0 0} 0xc00067e850 0xc00067e380 0xc00067e7e0 0xc00067e3f0 0xc00067e8c0 0xc00067e9a0 0xc00067ea10 [] {0 0}  txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000528900 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc000745800 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7]
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae ACTIVATED 3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[&{1 2248146944 192.168.251.5 <nil> 0}], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0}  txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
PDUSessionSMContextUpdate, txn =   txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, UP cnx state DEACTIVATED received
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146944e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mSent PFCP Session Modify Request to NodeID[192.168.85.148]
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Modification Response Accept
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Session Modification Success[1]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][TxnFsm][][5][UpdateSmContext] [0mtxn ended, execution time [32.46919ms]
2022-06-15T18:55:02Z[36m [INFO][SMF][GIN] [0m| 200 |   192.168.84.19 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7/modify |
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2b02b291315d723d0393") activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae DEACTIVATED 3GPP_ACCESS   0xc000827740  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000c7c0 <nil> 0xc00000c420 8c7af357-64d6-4b88-9d17-d9e8ec786fae DEACTIVATED 3GPP_ACCESS   0xc00000c9a0  <nil> 0  172.250.0.1 1 {0xc00079af60 0xc00079afc0 false 0xc00098bd40 0xc00098bd80  [] <nil>} 0xc00000c440 0xc000042c00 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00098bcc0 0xc00098bd00 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000ab13b0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00098b9e0 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc00000c360 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc000ab1400 <nil> <nil> <nil> map[] <nil> false 0xc00098bf60 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc00079b590 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274391000

] 0xc00018a000 map[192.168.85.148:true] false false 0xc0005a65c0 [] {{map[internet-1:0xc0005a6980] internet-1 0xc0005a6940} {map[ALLOW-ALL:0xc0005bd6c0]} {map[1:0xc00062ba20]} {map[TcId-2:0xc0006840e0]} {map[]} {map[]}} 0 0 0xc00012648a {0 0} 0xc000684540 0xc000684380 0xc000684460 0xc0006843f0 0xc0006845b0 0xc000684620 0xc000684690 [] {0 0}  txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000528900 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc00079b5c0 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7]
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae DEACTIVATED 3GPP_ACCESS   0xc000827740  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0}  txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
PDUSessionSMContextUpdate, txn =   txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, UP cnx state DEACTIVATED received
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:54:58.507710621Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mSent PFCP Session Modify Request to NodeID[192.168.85.148]
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Modification Response Accept
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Session Modification Success[1]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][TxnFsm][][6][UpdateSmContext] [0mtxn ended, execution time [31.811664ms]
2022-06-15T18:55:02Z[36m [INFO][SMF][GIN] [0m| 200 |   192.168.84.19 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7/modify |
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2b02b291315d723d0393") activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae DEACTIVATED 3GPP_ACCESS   0xc0003f6e40  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc000799b80 <nil> 0xc000799980 8c7af357-64d6-4b88-9d17-d9e8ec786fae DEACTIVATED 3GPP_ACCESS   0xc000799de0  <nil> 0  172.250.0.1 1 {0xc000717800 0xc000717830 false 0xc0007993a0 0xc0007993e0  [] <nil>} 0xc0007999a0 0xc000724500 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc000799320 0xc000799360 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0004ca230 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000799040 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000799940 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc0004ca460 <nil> <nil> <nil> map[] <nil> false 0xc0007995c0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000717e00 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274391000

] 0xc000438150 map[192.168.85.148:true] false false 0xc0005a68c0 [] {{map[internet-1:0xc0005a6e00] internet-1 0xc0005a6d80} {map[ALLOW-ALL:0xc000737450]} {map[1:0xc0004f1ad0]} {map[TcId-2:0xc0005b2930]} {map[]} {map[]}} 0 0 0xc00003c45a {0 0} 0xc0005b2d20 0xc0005b2b60 0xc0005b2cb0 0xc0005b2c40 0xc0005b2d90 0xc0005b2e70 0xc0005b2f50 [] {0 0}  txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000528900 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc000717e30 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7]
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae DEACTIVATED 3GPP_ACCESS   0xc0003f6e40  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0}  txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
PDUSessionSMContextUpdate, txn =   txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, UP cnx state ACTIVATING received
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]] Rsp:<nil> TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:DEACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]] Rsp:<nil> TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]] Rsp:<nil> TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]] Rsp:map[Body:map[binaryDataN2SmInformation:AAAEAIIACQwBMS0AID0JAACLAAoB8MCo/AMAAAABAIYAAQAAiAAHAAEAAAkVQA== jsonData:map[n2SmInfo:map[contentId:PDUSessionResourceSetupRequestTransfer] n2SmInfoType:PDU_RES_SETUP_REQ upCnxState:ACTIVATING]] Header:<nil> Status:200] TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]
2022-06-15T18:55:02Z[36m [INFO][SMF][TxnFsm][][7][UpdateSmContext] [0mtxn ended, execution time [22.070351ms]
2022-06-15T18:55:02Z[36m [INFO][SMF][GIN] [0m| 200 |   192.168.84.19 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7/modify |
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2b02b291315d723d0393") activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]] Rsp:map[Body:map[binaryDataN2SmInformation:AAAEAIIACQwBMS0AID0JAACLAAoB8MCo/AMAAAABAIYAAQAAiAAHAAEAAAkVQA== jsonData:map[n2SmInfo:map[contentId:PDUSessionResourceSetupRequestTransfer] n2SmInfoType:PDU_RES_SETUP_REQ upCnxState:ACTIVATING]] Header:<nil> Status:200] TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae ACTIVATING 3GPP_ACCESS   0xc0003f6e40  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f7bc0 <nil> 0xc0003f7a00 8c7af357-64d6-4b88-9d17-d9e8ec786fae ACTIVATING 3GPP_ACCESS   0xc0003f7da0  <nil> 0  172.250.0.1 1 {0xc000203dd0 0xc0004be060 false 0xc0003f7420 0xc0003f7460  [] <nil>} 0xc0003f7a20 0xc0000d7180 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc0003f73a0 0xc0003f73e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005254a0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc0003f7080 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc0003f79c0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc000525630 <nil> <nil> <nil> map[] <nil> false 0xc0003f7640 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc0004bed20 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274391000

] 0xc0001220e0 map[192.168.85.148:true] false false 0xc0005a6580 [] {{map[internet-1:0xc0005a6980] internet-1 0xc0005a6940} {map[ALLOW-ALL:0xc0007a7930]} {map[1:0xc000199ef0]} {map[TcId-2:0xc0005b24d0]} {map[]} {map[]}} 0 0 0xc000680d3a {0 0} 0xc0005b28c0 0xc0005b2690 0xc0005b2850 0xc0005b2770 0xc0005b2930 0xc0005b29a0 0xc0005b2a10 [] {0 0}  txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000528900 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc0004bed50 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.148
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 2248146944}}
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [8], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7]
2022-06-15T18:55:02Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d500 <nil> 0xc00000d580 8c7af357-64d6-4b88-9d17-d9e8ec786fae ACTIVATING 3GPP_ACCESS   0xc0003f6e40  <nil> 0  172.250.0.1 1 {0xc000786f90 0xc000786fc0 false 0xc00051dea0 0xc00051dec0  [] <nil>} 0xc000784880 0xc0005c3380 {8c7af357-64d6-4b88-9d17-d9e8ec786fae AMF REGISTERED 0 0xc00051d580 0xc00051d7e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000031450 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00051df40 false false []} {273b7c80-9160-4c88-8d2f-ef33b605ef09 PCF REGISTERED 0 0xc000784420 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012d4a0 <nil> <nil> <nil> map[] <nil> false 0xc0007844a0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000528960 <nil> map[192.168.85.148:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.148
LocalSEID:  1
RemoteSEID:  14669589512274390237

] 0xc000438070 map[] false false 0xc000120a80 [] {{map[internet-1:0xc0000b6d40] internet-1 0xc0000b6d40} {map[ALLOW-ALL:0xc00046a680]} {map[1:0xc0004f06e0]} {map[TcId-2:0xc0006844d0]} {map[]} {map[]}} 0 0 0xc00050c1c8 {0 0} 0xc00067e620 0xc00067e460 0xc00067e5b0 0xc00067e4d0 0xc00067e690 0xc00067e700 0xc00067e770 [] {0 0}  txn-id [8], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] }
PDUSessionSMContextUpdate, txn =   txn-id [8], txn-type [UpdateSmContext], txn-key [urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] 
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, N2 SM info type PDU_RES_SETUP_RSP received
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146944e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATING]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146945e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.148:true] pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146945e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mSent PFCP Session Modify Request to NodeID[192.168.85.148]
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:55:02Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Modification Response Accept
2022-06-15T18:55:02Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mPFCP Session Modification Success[1]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146945e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146945e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:55:02Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7])
2022-06-15T18:55:02Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 CtxtRef:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BYYAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]]]] Rsp:map[Body:map[jsonData:map[]] Header:<nil> Status:200] TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:8c7af357-64d6-4b88-9d17-d9e8ec786fae nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.148:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:1.4669589512274391e+19]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7 selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:273b7c80-9160-4c88-8d2f-ef33b605ef09 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:8c7af357-64d6-4b88-9d17-d9e8ec786fae smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:2.248146945e+09] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:2.248146945e+09] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:55:02.135019318Z]] upCnxState:ACTIVATED]
2022-06-15T18:55:02Z[36m [INFO][SMF][TxnFsm][][8][UpdateSmContext] [0mtxn ended, execution time [34.499246ms]
2022-06-15T18:55:02Z[36m [INFO][SMF][GIN] [0m| 200 |   192.168.84.19 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:af57dfe4-d3d5-4692-9f81-0105344acbd7/modify |
