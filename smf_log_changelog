+ cd /free5gc
+ cat config/smfcfg.conf
configuration:
  mongodb:
    name: smf
    url: mongodb://mongodb:27017
  nfKafka:
    enable: false
    topic: sdcore-nf-data-source
    urls:
    - sd-core-kafka-headless:9092
  nrfUri: http://nrf:29510
  pfcp:
    addr: POD_IP
  sbi:
    bindingIPv4: 0.0.0.0
    port: 29502
    registerIPv4: smf
    scheme: http
    tls:
      key: gofree5gc/support/TLS/smf.key
      pem: gofree5gc/support/TLS/smf.pem
  serviceNameList:
  - nsmf-pdusession
  - nsmf-event-exposure
  smfName: SMF
  snssaiInfos:
  - dnnInfos:
    - dnn: internet
      dns:
        ipv4: 8.8.8.8
        ipv6: 2001:4860:4860::8888
      ueSubnet: 172.250.0.0/16
    sNssai:
      sd: "010203"
      sst: 1
  userplane_information:
    links:
    - A: gNB1
      B: UPF
    up_nodes:
      UPF:
        interfaces:
        - endpoints:
          - upf
          interfaceType: N3
          networkInstance: internet
        node_id: upf
        sNssaiUpfInfos:
        - dnnUpfInfoList:
          - dnn: internet
          plmnId:
            mcc: "208"
            mnc: "93"
          sNssai:
            sd: "010203"
            sst: 1
        - dnnUpfInfoList:
          - dnn: internet
          plmnId:
            mcc: "208"
            mnc: "93"
          sNssai:
            sd: "112233"
            sst: 1
        type: UPF
      gNB1:
        type: AN
info:
  description: SMF initial local configuration
  version: 1.0.0
logger:
  AMF:
    ReportCaller: false
    debugLevel: info
  AUSF:
    ReportCaller: false
    debugLevel: info
  Aper:
    ReportCaller: false
    debugLevel: info
  CommonConsumerTest:
    ReportCaller: false
    debugLevel: info
  FSM:
    ReportCaller: false
    debugLevel: info
  MongoDBLibrary:
    ReportCaller: false
    debugLevel: info
  N3IWF:
    ReportCaller: false
    debugLevel: info
  NAS:
    ReportCaller: false
    debugLevel: info
  NGAP:
    ReportCaller: false
    debugLevel: info
  NRF:
    ReportCaller: false
    debugLevel: info
  NamfComm:
    ReportCaller: false
    debugLevel: info
  NamfEventExposure:
    ReportCaller: false
    debugLevel: info
  NsmfPDUSession:
    ReportCaller: false
    debugLevel: info
  NudrDataRepository:
    ReportCaller: false
    debugLevel: info
  OpenApi:
    ReportCaller: false
    debugLevel: info
  PCF:
    ReportCaller: false
    debugLevel: info
  PFCP:
    ReportCaller: false
    debugLevel: info
  PathUtil:
    ReportCaller: false
    debugLevel: info
  SMF:
    ReportCaller: false
    debugLevel: info
  UDM:
    ReportCaller: false
    debugLevel: info
  UDR:
    ReportCaller: false
    debugLevel: info
  WEBUI:
    ReportCaller: false
    debugLevel: info+ cat uerouting/uerouting.conf
info:
  description: Routing information for UE
  version: 1.0.0+ GOTRACEBACK=crash ./smf/smf -smfcfg config/smfcfg.conf -uerouting uerouting/uerouting.conf
smf
2022-06-15T18:32:20Z[36m [INFO][Config5g][GRPC] [0mcreate config client
2022-06-15T18:32:20Z[36m [INFO][Config5g][GRPC] [0mDial grpc connection -  webui:9876
INFO: 2022/06/15 18:32:20 [core] parsed scheme: ""
INFO: 2022/06/15 18:32:20 [core] scheme "" not registered, fallback to default scheme
INFO: 2022/06/15 18:32:20 [core] ccResolverWrapper: sending update to cc: {[{webui:9876  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2022/06/15 18:32:20 [core] ClientConn switching balancer to "pick_first"
INFO: 2022/06/15 18:32:20 [core] Channel switches to new LB policy "pick_first"
INFO: 2022/06/15 18:32:20 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:20 [core] Subchannel picks a new address "webui:9876" to connect
2022-06-15T18:32:20Z[36m [INFO][SMF][Init] [0mSMF Log level is set to [info] level
2022-06-15T18:32:20Z[36m [INFO][LIB][NAS] [0mset log level : info
2022-06-15T18:32:20Z[36m [INFO][LIB][NAS] [0mset report call : false
2022-06-15T18:32:20Z[36m [INFO][LIB][NGAP] [0mset log level : info
2022-06-15T18:32:20Z[36m [INFO][LIB][NGAP] [0mset report call : false
INFO: 2022/06/15 18:32:20 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:20 [core] Channel Connectivity change to CONNECTING
2022-06-15T18:32:20Z[36m [INFO][LIB][Aper] [0mset log level : info
2022-06-15T18:32:20Z[36m [INFO][LIB][Aper] [0mset report call : false
2022-06-15T18:32:20Z[36m [INFO][LIB][Path] [0mset log level : info
2022-06-15T18:32:20Z[36m [INFO][LIB][Path] [0mset report call : false
2022-06-15T18:32:20Z[36m [INFO][Config5g][GRPC] [0msubscribeToConfigPod
2022-06-15T18:32:20Z[36m [INFO][LIB][PFCP] [0mset log level : info
2022-06-15T18:32:20Z[36m [INFO][LIB][PFCP] [0mset report call : false
2022-06-15T18:32:20Z[33m [WARN][LIB][MonDB] [0mMongoDBLibrary Log level not set. Default set to [info] level
2022-06-15T18:32:20Z[36m [INFO][LIB][MonDB] [0mset log level : info
2022-06-15T18:32:20Z[36m [INFO][SMF][CFG] [0mSMF config version [1.0.0]
2022-06-15T18:32:20Z[36m [INFO][SMF][CFG] [0mUE-Routing config version [1.0.0]
2022-06-15T18:32:20Z[36m [INFO][SMF][Init] [0mSMF app initialising...
2022-06-15T18:32:20Z[36m [INFO][SMF][CTX] [0msmfconfig Info: Version[1.0.0] Description[SMF initial local configuration]
2022-06-15T18:32:20Z[36m [INFO][SMF][CTX] [0mParsing PFCP IPv4 address from ENV variable found.
2022-06-15T18:32:20Z[36m [INFO][SMF][Init] [0mNetwork Slices to be inserted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[2001:4860:4860::8888], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:32:20Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] to insert, content[&{UPF upf   [{0xc000205100 [{internet [] []}]} {0xc000205180 [{internet [] []}]}] [{N3 [upf] internet}]}]
2022-06-15T18:32:20Z[36m [INFO][SMF][CTX] [0mEndpoints: [upf]
2022-06-15T18:32:20Z[33m [WARN][LIB][PFCP] [0mhost [upf] not found in smf dns cache
2022-06-15T18:32:20Z[36m [INFO][LIB][PFCP] [0mhost [upf] dns resolved, updating smf dns cache
2022-06-15T18:32:20Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] to insert, content[&{AN    [] []}]
2022-06-15T18:32:20Z[36m [INFO][SMF][UPNode] [0minserting UP Node link[&{gNB1 UPF}]
2022-06-15T18:32:20Z[36m [INFO][SMF][Init] [0mConfiguration is managed by Config Pod
2022-06-15T18:32:20Z[36m [INFO][SMF][Init] [0mwaiting for initial configuration from config pod
WARNING: 2022/06/15 18:32:21 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: i/o timeout". Reconnecting...
INFO: 2022/06/15 18:32:21 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: i/o timeout"}
INFO: 2022/06/15 18:32:21 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:22 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:22 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:22 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:22 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:23 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: i/o timeout". Reconnecting...
INFO: 2022/06/15 18:32:23 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:23 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: i/o timeout"}
INFO: 2022/06/15 18:32:23 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:24 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:24 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:24 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:24 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:25 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: i/o timeout". Reconnecting...
INFO: 2022/06/15 18:32:25 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:25 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: i/o timeout"}
INFO: 2022/06/15 18:32:25 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:26 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:26 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:26 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:26 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:26 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:26 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:26 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:26 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:27 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:27 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:27 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:27 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:27 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:27 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:27 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:27 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:28 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:28 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:28 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:28 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:28 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:28 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:28 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:28 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:29 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:29 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:29 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:29 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:29 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:29 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:29 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:29 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:30 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:30 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:30 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:30 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:30 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:30 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:30 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:30 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:31 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:31 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:31 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:31 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:31 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:31 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:31 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:31 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:32 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:32 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:32 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:32 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:32 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:32 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:32 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:32 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:33 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:33 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:33 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:33 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:33 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:33 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:33 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:33 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:34 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:34 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:34 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:34 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:34 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:34 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:34 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:34 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:35 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:35 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:35 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:35 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:35 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:35 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:35 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:35 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:36 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:36 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:36 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:36 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:36 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:36 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:36 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:36 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:37 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:37 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:37 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:37 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:37 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:37 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:37 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:37 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:38 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:38 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:38 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:38 [core] Channel Connectivity change to CONNECTING
WARNING: 2022/06/15 18:32:38 [core] grpc: addrConn.createTransport failed to connect to {webui:9876 webui:9876 <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused". Reconnecting...
INFO: 2022/06/15 18:32:38 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:38 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial tcp 192.168.85.27:9876: connect: connection refused"}
INFO: 2022/06/15 18:32:38 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2022/06/15 18:32:39 [core] Subchannel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:39 [core] Subchannel picks a new address "webui:9876" to connect
INFO: 2022/06/15 18:32:39 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {CONNECTING <nil>}
INFO: 2022/06/15 18:32:39 [core] Channel Connectivity change to CONNECTING
INFO: 2022/06/15 18:32:39 [core] Subchannel Connectivity change to READY
INFO: 2022/06/15 18:32:39 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001d9b70, {READY <nil>}
INFO: 2022/06/15 18:32:39 [core] Channel Connectivity change to READY
2022-06-15T18:32:39Z[36m [INFO][Config5g][GRPC] [0mconnectivity ready
2022-06-15T18:32:39Z[36m [INFO][Config5g][GRPC] [0mstream msg recieved
2022-06-15T18:32:39Z[36m [INFO][Config5g][GRPC] [0mFirst time config Received  RestartCounter:703587772  NetworkSlice:{Name:"default"  Nssai:{Sst:"1"  Sd:"010203"}  DeviceGroup:{Name:"5g-gnbsim-user"  IpDomainDetails:{Name:"pool1"  DnnName:"internet"  UePool:"172.250.0.0/16"  DnsPrimary:"8.8.8.8"  Mtu:1460  UeDnnQos:{DnnMbrUplink:4000000  DnnMbrDownlink:20000000  TrafficClass:{Name:"platinum"  Qci:9  Arp:6  Pdb:300  Pelr:6}}}  Imsi:"208930100007487"  Imsi:"208930100007488"  Imsi:"208930100007489"  Imsi:"208930100007490"  Imsi:"208930100007491"  Imsi:"208930100007492"  Imsi:"208930100007493"  Imsi:"208930100007494"  Imsi:"208930100007495"  Imsi:"208930100007496"  Imsi:"208930100007497"  Imsi:"208930100007498"  Imsi:"208930100007499"  Imsi:"208930100007500"  Imsi:"208930100007501"}  Site:{SiteName:"aiab"  Gnb:{Name:"aiab-gnb1"  Tac:1}  Plmn:{mcc:"208"  mnc:"93"}  Upf:{UpfName:"upf"}}  AppFilters:{PccRuleBase:{FlowInfos:{FlowDesc:"permit out ip from any to assigned"  TosTrafficClass:"IPV4"  FlowDir:BIDIRECTIONAL  FlowStatus:ENABLED}  RuleId:"ALLOW-ALL"  Qos:{Var5qi:9  Arp:{PL:6  PC:MAY_PREEMPT  PV:PREEMPTABLE}}  Priority:250}}}  ConfigUpdated:1
2022-06-15T18:32:39Z[36m [INFO][SMF][GRPC] [0mreceived updateConfig in the smf app: RestartCounter:703587772  NetworkSlice:{Name:"default"  Nssai:{Sst:"1"  Sd:"010203"}  DeviceGroup:{Name:"5g-gnbsim-user"  IpDomainDetails:{Name:"pool1"  DnnName:"internet"  UePool:"172.250.0.0/16"  DnsPrimary:"8.8.8.8"  Mtu:1460  UeDnnQos:{DnnMbrUplink:4000000  DnnMbrDownlink:20000000  TrafficClass:{Name:"platinum"  Qci:9  Arp:6  Pdb:300  Pelr:6}}}  Imsi:"208930100007487"  Imsi:"208930100007488"  Imsi:"208930100007489"  Imsi:"208930100007490"  Imsi:"208930100007491"  Imsi:"208930100007492"  Imsi:"208930100007493"  Imsi:"208930100007494"  Imsi:"208930100007495"  Imsi:"208930100007496"  Imsi:"208930100007497"  Imsi:"208930100007498"  Imsi:"208930100007499"  Imsi:"208930100007500"  Imsi:"208930100007501"}  Site:{SiteName:"aiab"  Gnb:{Name:"aiab-gnb1"  Tac:1}  Plmn:{mcc:"208"  mnc:"93"}  Upf:{UpfName:"upf"}}  AppFilters:{PccRuleBase:{FlowInfos:{FlowDesc:"permit out ip from any to assigned"  TosTrafficClass:"IPV4"  FlowDir:BIDIRECTIONAL  FlowStatus:ENABLED}  RuleId:"ALLOW-ALL"  Qos:{Var5qi:9  Arp:{PL:6  PC:MAY_PREEMPT  PV:PREEMPTABLE}}  Priority:250}}}  ConfigUpdated:1
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mParsed SMF config : &{SmfName: Sbi:<nil> PFCP:<nil> NrfUri: UserPlaneInformation:{UPNodes:map[aiab-gnb1:{Type:AN NodeID:aiab-gnb1 ANIP: Dnn: SNssaiInfos:[] InterfaceUpfInfoList:[]} upf:{Type:UPF NodeID:upf ANIP: Dnn: SNssaiInfos:[{SNssai:0xc000905c20 DnnUpfInfoList:[{Dnn:internet DnaiList:[] PduSessionTypes:[]}]}] InterfaceUpfInfoList:[{InterfaceType:N3 Endpoints:[upf] NetworkInstance:internet}]}] Links:[{A:aiab-gnb1 B:upf}]} ServiceNameList:[] SNssaiInfo:[{SNssai:0xc000905c20 DnnInfos:[{Dnn:internet DNS:{IPv4Addr:8.8.8.8 IPv6Addr:} UESubnet:172.250.0.0/16 MTU:1460}] PlmnId:{Mcc:208 Mnc:93}}] ULCL:false EnterpriseList:map[1010203:default]}
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mComparing slices of type:  []factory.SnssaiDnnInfoItem
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mComparing slices of type:  []factory.SnssaiDnnInfoItem
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mchanges in network slice config
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mnetwork slices to be modified : 
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16]
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mchanges in user plane config
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mUP nodes to be deleted : 
 UPNode Name[UPF], Type[UPF], NodeId[upf], 
 Slice SST[1] SD[010203] 
 DNN name[internet], DNAI[[]], PDU Sess Type[[]] 
 Slice SST[1] SD[112233] 
 DNN name[internet], DNAI[[]], PDU Sess Type[[]] 
 UP interface type[N3], network instance[internet], endpoints[[upf]], 
 UPNode Name[gNB1], Type[AN], NodeId[],
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mUP nodes to be added : 
 UPNode Name[upf], Type[UPF], NodeId[upf], 
 Slice SST[1] SD[010203] 
 DNN name[internet], DNAI[[]], PDU Sess Type[[]] 
 UP interface type[N3], network instance[internet], endpoints[[upf]], 
 UPNode Name[aiab-gnb1], Type[AN], NodeId[aiab-gnb1],
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mComparing slices of type:  []factory.UPLink
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mchanges in UP nodes links config
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mUP nodes links to be added : [{A:aiab-gnb1 B:upf}]
2022-06-15T18:32:39Z[36m [INFO][SMF][CFG] [0mUP nodes links to be deleted : [{A:gNB1 B:UPF}]
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mminimum configuration from config pod available
2022-06-15T18:32:39Z[36m [INFO][SMF][CTX] [0mDynamic config update received [{DelSNssaiInfo:<nil> ModSNssaiInfo:0xc000905ec0 AddSNssaiInfo:<nil> DelUPNodes:0xc000902198 ModUPNodes:<nil> AddUPNodes:0xc000902188 AddLinks:0xc0002045a0 DelLinks:0xc000204600 EnterpriseList:0xc000795ca8}]
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mNetwork Slices to be modified [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mNetwork Slices to be deleted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mnetwork slices deleted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mNetwork Slices to be inserted [
 Slice SST[1] SD[010203] 
 DNN name[internet], DNS v4[8.8.8.8], v6[], UE-Pool[172.250.0.0/16] ]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mdeleting UP Node link[&{gNB1 UPF}]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] to delete, content[&{UPF upf   [{0xc000205100 [{internet [] []}]} {0xc000205180 [{internet [] []}]}] [{N3 [upf] internet}]}]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] deleted from UP-Pool
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] deleted from table[UPNodes]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[UPF] deleted from table[UPFIPToName]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] to delete, content[&{AN    [] []}]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] deleted from table[UPNodes]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[gNB1] deleted from table[UPFIPToName]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[upf] to insert, content[&{UPF upf   [{0xc000905c20 [{internet [] []}]}] [{N3 [upf] internet}]}]
2022-06-15T18:32:39Z[36m [INFO][SMF][CTX] [0mEndpoints: [upf]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mUPNode[aiab-gnb1] to insert, content[&{AN aiab-gnb1   [] []}]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0minserting UP Node link[&{aiab-gnb1 upf}]
2022-06-15T18:32:39Z[36m [INFO][SMF][CTX] [0mDynamic config update, enterprise info [map[1010203:default]]
2022-06-15T18:32:39Z[36m [INFO][SMF][UPNode] [0mresetting the default user plane paths [map[]]
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mDynamic config update task initialised
2022-06-15T18:32:39Z[36m [INFO][SMF][Consumer] [0mNRF Registration success, status [Created]
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mSMF Registration to NRF {58a3e678-32a3-485e-b3a0-1bc1abff36dd SMF REGISTERED 0 0xc00011e3e0 0xc00011e420 [] []   [smf] [] 0xc00011e080 [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> 0xc000122440 <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00011e120 false false []}
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /nsmf-oam/v1/             --> github.com/omec-project/smf/oam.Index (3 handlers)
[GIN-debug] GET    /nsmf-oam/v1/ue-pdu-session-info/:smContextRef --> github.com/omec-project/smf/oam.HTTPGetUEPDUSessionInfo (3 handlers)
[GIN-debug] POST   /nsmf-callback/sm-policies/:smContextRef/update --> github.com/omec-project/smf/callback.HTTPSmPolicyUpdateNotification (3 handlers)
[GIN-debug] POST   /nsmf-callback/sm-policies/:smContextRef/terminate --> github.com/omec-project/smf/callback.SmPolicyControlTerminationRequestNotification (3 handlers)
[GIN-debug] POST   /nsmf-callback/sm-n1n2failnotify/:smContextRef --> github.com/omec-project/smf/callback.N1N2FailureNotification (3 handlers)
[GIN-debug] GET    /nsmf-pdusession/v1/      --> github.com/omec-project/smf/pdusession.Index (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/pdu-sessions/:pduSessionRef/release --> github.com/omec-project/smf/pdusession.ReleasePduSession (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/pdu-sessions/:pduSessionRef/modify --> github.com/omec-project/smf/pdusession.UpdatePduSession (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts/:smContextRef/release --> github.com/omec-project/smf/pdusession.HTTPReleaseSmContext (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts/:smContextRef/retrieve --> github.com/omec-project/smf/pdusession.RetrieveSmContext (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts/:smContextRef/modify --> github.com/omec-project/smf/pdusession.HTTPUpdateSmContext (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/pdu-sessions --> github.com/omec-project/smf/pdusession.PostPduSessions (3 handlers)
[GIN-debug] POST   /nsmf-pdusession/v1/sm-contexts --> github.com/omec-project/smf/pdusession.HTTPPostSmContexts (3 handlers)
[GIN-debug] GET    /nsmf_event-exposure/v1   --> github.com/omec-project/smf/eventexposure.Index (3 handlers)
[GIN-debug] POST   /nsmf_event-exposure/v1/subscriptions --> github.com/omec-project/smf/eventexposure.SubscriptionsPost (3 handlers)
[GIN-debug] DELETE /nsmf_event-exposure/v1/subscriptions/:subId --> github.com/omec-project/smf/eventexposure.SubscriptionsSubIdDelete (3 handlers)
[GIN-debug] GET    /nsmf_event-exposure/v1/subscriptions/:subId --> github.com/omec-project/smf/eventexposure.SubscriptionsSubIdGet (3 handlers)
[GIN-debug] PUT    /nsmf_event-exposure/v1/subscriptions/:subId --> github.com/omec-project/smf/eventexposure.SubscriptionsSubIdPut (3 handlers)
2022-06-15T18:32:39Z[36m [INFO][SMF][Init] [0mSetupSmfCollection
db - SetupSmfCollection!!
2022-06-15T18:32:39Z[36m [INFO][LIB][MonDB] [0mindex :  ref_1
2022-06-15T18:32:39Z[36m [INFO][LIB][MonDB] [0mindex :  txnId_1
2022-06-15T18:32:39Z[36m [INFO][LIB][MonDB] [0mindex :  seid_1
in db - testdb() result 0x0in db - testdb() result type (0x1486da0,0x1049d80)2022-06-15T18:32:39Z[36m [INFO][SMF][PFCP] [0mListen on 192.168.84.10:8805
2022-06-15T18:32:39Z[36m [INFO][SMF][App] [0mSend PFCP Association Request to UPF[upf](192.168.85.225)
2022-06-15T18:32:39Z[36m [INFO][SMF][PFCP] [0mSent PFCP Association Request to NodeID[192.168.85.225]
2022-06-15T18:32:45Z[36m [INFO][SMF][PFCP] [0mHandle PFCP Association Setup Response with NodeID[192.168.85.225]
2022-06-15T18:32:45Z[36m [INFO][SMF][PFCP] [0mUPF[192.168.85.225] received N3 interface IP[192.168.252.3], network instance[internet] and TEID[0]
2022-06-15T18:32:45Z[36m [INFO][SMF][PFCP] [0mUPF(192.168.85.225)[internet] setup association
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess] [0mRecieve Create SM Context Request
db - in new smcontext smcontext val ref urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[activeTxn:map[CtxtKey: CtxtRef: Err:<nil> MsgType: NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:0] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType: dnn: dnnConfiguration:map[pduSessionTypes:<nil> sscModes:<nil>] identifier:imsi-208930100007497 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:false DNSIPv6Request:false IPv4LinkMTURequest:false] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[nfInstanceId: nfStatus: nfType:] smContextState:0 smLock:map[] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smTxnBusLock:map[] snssai:<nil> tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, SM context created
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1]
db - finished StoreTxnInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[pduSessionTypes:<nil> sscModes:<nil>] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:false DNSIPv6Request:false IPv4LinkMTURequest:false] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[nfInstanceId: nfStatus: nfType:] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:0 smLock:map[] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, send NF Discovery Serving UDM Successful
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, IP alloc success IP[172.250.0.1]
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, subscription data retrieved from UDM
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:false DNSIPv6Request:false IPv4LinkMTURequest:false] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[nfInstanceId: nfStatus: nfType:] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:0 smLock:map[] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][NAS][Convert] [0mProtocolOrContainerList:  [0xc000205640 0xc0002056a0 0xc000205700]
2022-06-15T18:33:45Z[36m [INFO][SMF][GSM][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mProtocol Configuration Options
2022-06-15T18:33:45Z[36m [INFO][SMF][GSM][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0m&{[0xc000205640 0xc0002056a0 0xc000205700]}
2022-06-15T18:33:45Z[36m [INFO][SMF][GSM][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mDidn't Implement container type IPAddressAllocationViaNASSignallingUL
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:<nil> PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, send NF Discovery Serving PCF success
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, Policy association create success
2022-06-15T18:33:45Z[36m [INFO][SMF][QosFsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, received SM policy data: 
PCC Rules: 
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]
Session Rules: 
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]
QosData: 
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]
TCData: 
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]
2022-06-15T18:33:45Z[36m [INFO][SMF][QosFsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, generated SM policy update: Policy Update:[
PccRule:[
PCC Rule Changes:
[to add:[
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]]
[to mod:[]]
[to del:[]]], 
SessRules:[
Sess Rule Changes:
[to add:[
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]]
[to mod:[]]
[to del:[]]], 
QosData:[
Qos Data Changes:
[to add:[
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]]
[to mod:[]]
[to del:[]]], 
TcData:[
TC Data Changes:
[to add:[
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]]
[to mod:[]]
[to del:[]]]]
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, no pre-config route
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mupfSelectionParams Dnn: internet
Sst: 1, Sd: 010203
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0msmf_context.GetUserPlaneInformation() res &{map[aiab-gnb1:0xc00020cc80 upf:0xc00020cb80] map[upf:0xc00020cb80] map[aiab-gnb1:0xc00020cc80] map[192.168.85.225:upf <nil>:aiab-gnb1] map[upf:fb66c678-2d80-4f5f-860b-649150c8bdc5] map[192.168.85.225:fb66c678-2d80-4f5f-860b-649150c8bdc5] map[Dnn: internet
Sst: 1, Sd: 010203
:[0xc00020cb80]]}
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdefaultUPPath [0xc00020cb80]
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdefaultPath DataPath Meta Information
Activated: false
IsDefault Path: false
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess] [0mdb - in validateDataPathUpfStatus dataPath.FirstDPNode &{0xc0004a2d20 0xc000272760 0xc000272780 false}
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess] [0mNodes in Data Path [192.168.85.225] and status [AssociatedSetUpSuccess]
db - StoreSeidContextInDB In DB!! smcontext  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 <nil> {   0 <nil> <nil> [] []   [] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false <nil> false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateInit 0xc000290d80 <nil> map[192.168.85.225:
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  0

] 0xc000090150 map[] false false 0xc000916c00 [Policy Update:[
PccRule:[
PCC Rule Changes:
[to add:[
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]]
[to mod:[]]
[to del:[]]], 
SessRules:[
Sess Rule Changes:
[to add:[
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]]
[to mod:[]]
[to del:[]]], 
QosData:[
Qos Data Changes:
[to add:[
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]]
[to mod:[]]
[to del:[]]], 
TcData:[
TC Data Changes:
[to add:[
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]]
[to mod:[]]
[to del:[]]]]] {{map[]  <nil>} {map[]} {map[]} {map[]} {map[]} {map[]}} 0 0 0xc0005009b8 {1 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0}  txn-id [1], txn-type [CreateSmContext], txn-key [] }
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[seid:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb seid:1]
db - finished StoreSeidContextInDB In DB!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:false Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:false Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:<nil> TxnId:1] amfProfile:map[nfInstanceId: nfStatus: nfType:] anType:3GPP_ACCESS dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:false Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:0] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:<nil> SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:<nil>] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mactivate UpLink PDR[ALLOW-ALL]:[PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]]
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mactivate Downlink PDR[ALLOW-ALL]:[PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[<nil>], NetworkInstance:[[]], UEIpAddr:[<nil>], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]]
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mactivate Downlink PDR[ALLOW-ALL]:[PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[<nil>], NetworkInstance:[[]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]]
2022-06-15T18:33:45Z[36m [INFO][SMF][Consumer][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0msend NF Discovery Serving AMF Successful
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextCreate, PDU session context create success
db - in HandlePDUSessionSMContextCreate
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:map[Body:map[jsonData:map[sNssai:map[sd:010203 sst:1]]] Header:map[Location:[urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb]] Status:201] TxnId:1] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:0 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateInit] next state[SmStatePfcpCreatePending]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  CreateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:1])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:CreateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN1SmMessage:LgoAwf//kXsACoAACgAADQAAAwA= jsonData:map[anType:3GPP_ACCESS dnn:internet gpsi:msisdn-0900000000 guami:map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]] n1SmMsg:map[contentId:n1SmMsg] pduSessionId:10 pei:imeisv-1110000000000000 sNssai:map[sd:010203 sst:1] servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextStatusUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 supi:imsi-208930100007497]] Rsp:map[Body:map[jsonData:map[sNssai:map[sd:010203 sst:1]]] Header:map[Location:[urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb]] Status:201] TxnId:1] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:5 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:0] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:0] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:0] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:0]] State:0 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][TxnFsm][][1][CreateSmContext] [0mtxn ended, execution time [63.742514ms]
2022-06-15T18:33:45Z[36m [INFO][SMF][GIN] [0m| 201 |  192.168.84.255 | POST    | /nsmf-pdusession/v1/sm-contexts |
2022-06-15T18:33:45Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStatePfcpCreatePendingEventPfcpSessCreate txn %v txn-id [2], txn-type [PfcpSessCreate], txn-key []
2022-06-15T18:33:45Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStatePfcpCreatePendingEventPfcpSessCreate smCtxt %v&{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStatePfcpCreatePending 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[0]]], RuleState:[0], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[0]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  0

] 0xc000090150 map[] false false 0xc000916c00 [Policy Update:[
PccRule:[
PCC Rule Changes:
[to add:[
[name:[ALLOW-ALL], PccRule:[RuleId:[1], Precdence:[250], RefQosData:[1], flow:[[
FlowInfo:[flowDesc:[permit out ip from any to assigned], PFId:[2], direction:[BIDIRECTIONAL]]]]]]]
[to mod:[]]
[to del:[]]], 
SessRules:[
Sess Rule Changes:
[to add:[
[name:[internet-1], SessRule:[RuleId:[internet-1], Ambr:[Dl:[20000 Kbps], Ul:[4000 Kbps]], AuthDefQos:[Var5QI:[9], PriorityLevel:[0], ARP:[&{6  }]]]]]
[to mod:[]]
[to del:[]]], 
QosData:[
Qos Data Changes:
[to add:[
[name:[1], QosData:[QosId:[1], Var5QI:[9], MaxBrUl:[4000 Kbps], MaxBrDl:[20000 Kbps], GBrUl:[], GBrDl:[], PriorityLevel:[0], ARP:[&{6 MAY_PREEMPT PREEMPTABLE}], DQFI:[true]]]]
[to mod:[]]
[to del:[]]], 
TcData:[
TC Data Changes:
[to add:[
[name:[TcId-2], TC Data:[Id:[TcId-2], FlowStatus:[ENABLED]]]]
[to mod:[]]
[to del:[]]]]] {{map[]  <nil>} {map[]} {map[]} {map[]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0}  txn-id [2], txn-type [PfcpSessCreate], txn-key [] }
db - in SendPFCPRules smContext.Tunnel.DataPathPool %v map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
]
db - in SendPFCPRules dataPath.Activated %v true
db - in SendPFCPRules before SendPfcpSessionEstablishmentRequest sessionContext.RemoteSEID and exist and pfcp.nodeID 0 true {2 [117 112 102]}
2022-06-15T18:33:45Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mSent PFCP Session Establish Request to NodeID[192.168.85.225]
db - in SendPFCPRules before StoreSmContextInDB
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  PfcpSessCreate
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:2])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:PfcpSessCreate NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:2] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:0]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:5 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionEstablishmentResponse
2022-06-15T18:33:45Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Session Establishment accepted
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpCreatePending] next state[SmStateN1N2TransferPending]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  PfcpSessCreate
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:2])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:PfcpSessCreate NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:2] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[]] SmCtxtQosData:map[QosData:map[]] SmCtxtSessionRules:map[ActiveRule:<nil> ActiveRuleName: SessionRules:map[]] SmCtxtTCData:map[TrafficControlData:map[]]] smPolicyUpdates:[map[CondDataUpdate:map[] PccRuleUpdate:map[] QosFlowUpdate:map[] SessRuleUpdate:map[ActiveSessRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] SmPolicyDecision:map[pccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]] policyCtrlReqTriggers:[PLMN_CH RES_MO_RE AC_TY_CH UE_IP_CH PS_DA_OFF DEF_QOS_CH SE_AMBR_CH QOS_NOTIF RAT_TY_CH] qosDecs:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]] sessRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]] suppFeat:000f traffContDecs:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]] TCUpdate:map[]]] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][TxnFsm][][2][PfcpSessCreate] [0mtxn ended, execution time [10.550575ms]
&{4000 Kbps 20000 Kbps}
2022/06/15 18:33:45 Building QoS Rule from PCC rule [ALLOW-ALL]
2022/06/15 18:33:45 Adding Qos Flow Description [1] 
2022-06-15T18:33:45Z[33m [WARN][SMF][GSM][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mError while adding DNS IPv6 Addr:  The DNS IP should be IPv6 in AddDNSServerIPv6Address!
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mN1N2 transfer initiated
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  N1N2MessageTransfer
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:3])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mN1N2 Transfer completed
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  N1N2MessageTransfer
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:3])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2609ef3501e5c6ae00f3") activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:9 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
in changestate: changelog =  [{create [PDUAddress 1] <nil> 0 <nil>} {create [PDUAddress 2] <nil> 0 <nil>} {create [PDUAddress 3] <nil> 0 <nil>} {create [PDUAddress 4] <nil> 0 <nil>} {create [PDUAddress 5] <nil> 0 <nil>} {create [PDUAddress 6] <nil> 0 <nil>} {create [PDUAddress 7] <nil> 0 <nil>} {create [PDUAddress 8] <nil> 0 <nil>} {create [PDUAddress 9] <nil> 0 <nil>} {create [PDUAddress 10] <nil> 255 <nil>} {create [PDUAddress 11] <nil> 255 <nil>} {create [PDUAddress 14] <nil> 0 <nil>} {update [SMPolicyClient cfg] 0xc00012ef00 <nil> {0xc00012ef00 {0xc0005593e0} 0xc0005593e8 0xc0005593e8}} {update [SMPolicyClient DefaultApi client] 0xc0005593e0 <nil> {0xc0005593e0}} {update [SMPolicyClient DefaultCallbackApi client] 0xc0005593e0 <nil> {0xc0005593e0}} {update [CommunicationClient cfg] 0xc0005b3270 <nil> {0xc0005b3270 {0xc000691d00} 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08 0xc000691d08}} {update [CommunicationClient IndividualSubscriptionDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient IndividualUeContextDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient N1N2IndividualSubscriptionDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient N1N2MessageCollectionDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient N1N2MessageTransferStatusNotificationCallbackDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient NonUEN2MessageNotificationIndividualSubscriptionDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient NonUEN2MessagesCollectionDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient NonUEN2MessagesSubscriptionsCollectionDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient SubscriptionsCollectionDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [CommunicationClient AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi client] 0xc000691d00 <nil> {0xc000691d00}} {update [Tunnel PathIDGenerator offset] 1 0 {{0 0} 1 2147483647 2147483647 1 map[0:true]}} {delete [Tunnel PathIDGenerator usedMap 0] true <nil> <nil>} {update [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel DestEndPoint] 0xc000272740 <nil> {<nil> 0xc000272740 1 map[ALLOW-ALL:0xc0004a06c0]}} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 0] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 1] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 2] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 3] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 4] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 5] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 6] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 7] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 8] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 9] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 10] <nil> 255 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI LocalFTeid Ipv4Address 11] <nil> 255 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 1] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 2] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 3] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 4] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 5] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 6] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 7] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 8] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 9] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 10] <nil> 255 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 11] <nil> 255 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode UpLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 14] <nil> 0 <nil>} {update [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel DestEndPoint] 0xc000272740 <nil> {<nil> 0xc000272740 2 map[ALLOW-ALL:0xc0001ad0e0]}} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 1] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 2] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 3] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 4] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 5] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 6] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 7] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 8] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 9] <nil> 0 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 10] <nil> 255 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 11] <nil> 255 <nil>} {create [Tunnel DataPathPool 1 FirstDPNode DownLinkTunnel PDR ALLOW-ALL PDI UEIPAddress Ipv4Address 14] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 0] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 1] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 2] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 3] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 4] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 5] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 6] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 7] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 8] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 9] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 10] <nil> 255 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI LocalFTeid Ipv4Address 11] <nil> 255 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 1] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 2] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 3] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 4] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 5] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 6] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 7] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 8] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 9] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 10] <nil> 255 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 11] <nil> 255 <nil>} {create [PFCPContext 192.168.85.225 PDRs 1 PDI UEIPAddress Ipv4Address 14] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 1] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 2] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 3] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 4] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 5] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 6] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 7] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 8] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 9] <nil> 0 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 10] <nil> 255 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 11] <nil> 255 <nil>} {create [PFCPContext 192.168.85.225 PDRs 2 PDI UEIPAddress Ipv4Address 14] <nil> 0 <nil>} {update [PFCPContext 192.168.85.225 RemoteSEID] 928819077229627824 928819077229627800 {map[1:0xc0004a06c0 2:0xc0001ad0e0] {2 [117 112 102]} 1 928819077229627824}}]
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateN1N2TransferPending] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  N1N2MessageTransfer
db - StoreTxnInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:3])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:45Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:45Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:45Z[36m [INFO][SMF][TxnFsm][][3][N1N2MessageTransfer] [0mtxn ended, execution time [20.927071ms]
2022-06-15T18:33:46Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2609ef3501e5c6ae00f3") activeTxn:map[CtxtKey: CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:N1N2MessageTransfer NextTxnId:0 Priority:0 Req:<nil> Rsp:<nil> TxnId:3] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc000885540 <nil> 0xc000885380 39ceeaed-ae41-4986-b8af-65a82fabe7e5  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0008a0f60 0xc0008a0f90 false 0xc000884da0 0xc000884e00  [] <nil>} 0xc0008853a0 0xc0005b9c80 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000884d20 0xc000884d60 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc000693720 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000884a40 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000885340 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc000693770 <nil> <nil> <nil> map[] <nil> false 0xc000884fc0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc0008a1530 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627800

] 0xc000090000 map[] false false 0xc000123080 [] {{map[internet-1:0xc0001236c0] internet-1 0xc000123680} {map[ALLOW-ALL:0xc00059cdd0]} {map[1:0xc0009336b0]} {map[TcId-2:0xc0002af5e0]} {map[]} {map[]}} 0 0 0xc0002564fa {0 0} 0xc0002aff10 0xc0002afce0 0xc0002afea0 0xc0002afdc0 0xc0001de070 0xc0001de0e0 0xc0001de230 [] {0 0}  txn-id [3], txn-type [N1N2MessageTransfer], txn-key [] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [3], txn-type [N1N2MessageTransfer], txn-key [] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000290d20 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {<nil> 0}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc0008a1560 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {<nil> 0}}
2022-06-15T18:33:46Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb]
2022-06-15T18:33:46Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5  3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:false, Drop:true]], FrwdParam:[<nil>], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0}  txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
PDUSessionSMContextUpdate, txn =   txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
2022-06-15T18:33:46Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:33:46Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, N2 SM info type PDU_RES_SETUP_RSP received
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress: TEID:0] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:true Dupl:false Forw:false Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:<nil> State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>]]
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:33:46Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:33:46Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mSent PFCP Session Modify Request to NodeID[192.168.85.225]
2022-06-15T18:33:46Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:33:46Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Modification Response Accept
2022-06-15T18:33:46Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Session Modification Success[1]
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]]]] Rsp:<nil> TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:4])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:46Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:46Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]]]] Rsp:map[Body:map[jsonData:map[]] Header:<nil> Status:200] TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:33:46Z[36m [INFO][SMF][TxnFsm][][4][UpdateSmContext] [0mtxn ended, execution time [37.089343ms]
2022-06-15T18:33:46Z[36m [INFO][SMF][GIN] [0m| 200 |  192.168.84.255 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb/modify |
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2609ef3501e5c6ae00f3") activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAAAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]]]] Rsp:map[Body:map[jsonData:map[]] Header:<nil> Status:200] TxnId:4] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 ACTIVATED 3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[&{1 855638016 192.168.251.5 <nil> 0}], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc00000d800 <nil> 0xc00000d5e0 39ceeaed-ae41-4986-b8af-65a82fabe7e5 ACTIVATED 3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc000a449f0 0xc000a44a20 false 0xc00000cfe0 0xc00000d020  [] <nil>} 0xc00000d600 0xc000128900 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc00000cf60 0xc00000cfa0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b3180 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc00000cc80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc00000d5a0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc0005b31d0 <nil> <nil> <nil> map[] <nil> false 0xc00000d200 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000a44ff0 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[&{1 855638016 192.168.251.5 <nil> 0}], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627800

] 0xc000090000 map[192.168.85.225:true] false false 0xc0001237c0 [] {{map[internet-1:0xc000123c00] internet-1 0xc000123bc0} {map[ALLOW-ALL:0xc0002f9450]} {map[1:0xc000932580]} {map[TcId-2:0xc0002afce0]} {map[]} {map[]}} 0 0 0xc0006bde1a {0 0} 0xc0000e8230 0xc0000e8000 0xc0000e8150 0xc0000e80e0 0xc0000e82a0 0xc0000e8310 0xc0000e8380 [] {0 0}  txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [4], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000290d20 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc000a45020 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
2022-06-15T18:33:49Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb]
2022-06-15T18:33:49Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 ACTIVATED 3GPP_ACCESS   <nil>  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[&{1 855638016 192.168.251.5 <nil> 0}], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0}  txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
PDUSessionSMContextUpdate, txn =   txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, UP cnx state DEACTIVATED received
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638016e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] upCnxState:ACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:33:49Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mSent PFCP Session Modify Request to NodeID[192.168.85.225]
2022-06-15T18:33:49Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Modification Response Accept
2022-06-15T18:33:49Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Session Modification Success[1]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:5])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][TxnFsm][][5][UpdateSmContext] [0mtxn ended, execution time [33.193587ms]
2022-06-15T18:33:49Z[36m [INFO][SMF][GIN] [0m| 200 |  192.168.84.255 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb/modify |
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2609ef3501e5c6ae00f3") activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:5] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 DEACTIVATED 3GPP_ACCESS   0xc000205640  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc000644e60 <nil> 0xc000644c00 39ceeaed-ae41-4986-b8af-65a82fabe7e5 DEACTIVATED 3GPP_ACCESS   0xc000645040  <nil> 0  172.250.0.1 1 {0xc000259770 0xc000259890 false 0xc000644620 0xc000644660  [] <nil>} 0xc000644c20 0xc000129000 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc0006445a0 0xc0006445e0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0004fb680 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc0006442c0 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000644bc0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc0004fb6d0 <nil> <nil> <nil> map[] <nil> false 0xc000644840 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000259e60 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627800

] 0xc0002840e0 map[192.168.85.225:true] false false 0xc000123ac0 [] {{map[internet-1:0xc000123dc0] internet-1 0xc000123d80} {map[ALLOW-ALL:0xc0004e1930]} {map[1:0xc0001f80b0]} {map[TcId-2:0xc0001de3f0]} {map[]} {map[]}} 0 0 0xc00012406a {0 0} 0xc0001de850 0xc0001de700 0xc0001de7e0 0xc0001de770 0xc0001de8c0 0xc0001de930 0xc0001de9a0 [] {0 0}  txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [5], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000290d20 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc000259e90 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
2022-06-15T18:33:49Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb]
2022-06-15T18:33:49Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 DEACTIVATED 3GPP_ACCESS   0xc000205640  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0}  txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
PDUSessionSMContextUpdate, txn =   txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, UP cnx state DEACTIVATED received
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000001] ueLocationTimestamp:2022-06-15T18:33:45.65611447Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:33:49Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mSent PFCP Session Modify Request to NodeID[192.168.85.225]
2022-06-15T18:33:49Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Modification Response Accept
2022-06-15T18:33:49Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Session Modification Success[1]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]] Rsp:<nil> TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:6])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][TxnFsm][][6][UpdateSmContext] [0mtxn ended, execution time [31.614345ms]
2022-06-15T18:33:49Z[36m [INFO][SMF][GIN] [0m| 200 |  192.168.84.255 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb/modify |
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2609ef3501e5c6ae00f3") activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ngApCause:map[group:1 value:20] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]] Rsp:map[Body:map[jsonData:map[upCnxState:DEACTIVATED]] Header:<nil> Status:200] TxnId:6] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 DEACTIVATED 3GPP_ACCESS   0xc000620040  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc000621540 <nil> 0xc0006212e0 39ceeaed-ae41-4986-b8af-65a82fabe7e5 DEACTIVATED 3GPP_ACCESS   0xc000621740  <nil> 0  172.250.0.1 1 {0xc0007e0270 0xc0007e02a0 false 0xc000620c20 0xc000620c60  [] <nil>} 0xc000621340 0xc0005b8a80 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000620ba0 0xc000620be0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b2870 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc0006208c0 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc0006212a0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc0005b28c0 <nil> <nil> <nil> map[] <nil> false 0xc000620e80 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc0007e0870 <nil> map[192.168.85.225:
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627800

] 0xc000444000 map[192.168.85.225:true] false false 0xc000123740 [] {{map[internet-1:0xc000123bc0] internet-1 0xc000123b80} {map[ALLOW-ALL:0xc0009a8c30]} {map[1:0xc0006676b0]} {map[TcId-2:0xc0000e80e0]} {map[]} {map[]}} 0 0 0xc0002568fa {0 0} 0xc0000e84d0 0xc0000e8380 0xc0000e8460 0xc0000e83f0 0xc0000e85b0 0xc0000e8620 0xc0000e8690 [] {0 0}  txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [6], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000290d20 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc0007e08a0 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
2022-06-15T18:33:49Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb]
2022-06-15T18:33:49Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 DEACTIVATED 3GPP_ACCESS   0xc000620040  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0}  txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
PDUSessionSMContextUpdate, txn =   txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:33:49Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, UP cnx state ACTIVATING received
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]] Rsp:<nil> TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:DEACTIVATED]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]] Rsp:<nil> TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]] Rsp:<nil> TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:7])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:49Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:49Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]] Rsp:map[Body:map[binaryDataN2SmInformation:AAAEAIIACQwBMS0AID0JAACLAAoB8MCo/AMAAAABAIYAAQAAiAAHAAEAAAkVQA== jsonData:map[n2SmInfo:map[contentId:PDUSessionResourceSetupRequestTransfer] n2SmInfoType:PDU_RES_SETUP_REQ upCnxState:ACTIVATING]] Header:<nil> Status:200] TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]
2022-06-15T18:33:49Z[36m [INFO][SMF][TxnFsm][][7][UpdateSmContext] [0mtxn ended, execution time [22.6545ms]
2022-06-15T18:33:49Z[36m [INFO][SMF][GIN] [0m| 200 |  192.168.84.255 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb/modify |
2022-06-15T18:33:50Z[36m [INFO][SMF][PduSess] [0mRecieve Update SM Context Request
db - in GetSMContext
db - in GetSMContext using mem val
db - in GetSMContextByRefInDB
db - in mapToByte!! data: %v map[_id:ObjectID("62aa2609ef3501e5c6ae00f3") activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[jsonData:map[ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]] Rsp:map[Body:map[binaryDataN2SmInformation:AAAEAIIACQwBMS0AID0JAACLAAoB8MCo/AMAAAABAIYAAQAAiAAHAAEAAAkVQA== jsonData:map[n2SmInfo:map[contentId:PDUSessionResourceSetupRequestTransfer] n2SmInfoType:PDU_RES_SETUP_REQ upCnxState:ACTIVATING]] Header:<nil> Status:200] TxnId:7] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]
db - in UnmarshalJSON
db - in RecoverDataPathNode
db - In GetNodeID
db - in RecoverDataPathNode uLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in RecoverDataPathNode dLTunnelInfo != nilVarTunnelInfo 
db - In RecoverTunnel
in db - testEq len true 
db - in UnMarshalJSON before return
db - in GetSMContext before return smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 ACTIVATING 3GPP_ACCESS   0xc000620040  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0} <nil>}
db - in GetSMContext before return db_smContext =  &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc000885000 <nil> 0xc000884e40 39ceeaed-ae41-4986-b8af-65a82fabe7e5 ACTIVATING 3GPP_ACCESS   0xc0008851e0  <nil> 0  172.250.0.1 1 {0xc000117f80 0xc0003425a0 false 0xc000884740 0xc0008847a0  [] <nil>} 0xc000884e60 0xc000128b80 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc0008846c0 0xc000884700 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0004fa780 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000884380 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000884e00 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc0004fa7d0 <nil> <nil> <nil> map[] <nil> false 0xc000884a80 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc00037c420 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627800

] 0xc00048e000 map[192.168.85.225:true] false false 0xc00046d540 [] {{map[internet-1:0xc000916bc0] internet-1 0xc000916b80} {map[ALLOW-ALL:0xc000016d00]} {map[1:0xc00068d810]} {map[TcId-2:0xc0001f1ea0]} {map[]} {map[]}} 0 0 0xc000b830fa {0 0} 0xc0000e8380 0xc0000e8150 0xc0000e8310 0xc0000e8230 0xc0000e83f0 0xc0000e8460 0xc0000e84d0 [] {0 0}  txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
db - in GetSMContext before return smContext.ActiveTxn =  <nil>
db - in GetSMContext before return db_smContext.ActiveTxn =   txn-id [7], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
db - in GetSMContext before return smContext.Tunnel =  &{0xc000290d20 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
db - in GetSMContext before return db_smContext.Tunnel =  &{0xc00037c450 map[1:DataPath Meta Information
Activated: true
IsDefault Path: true
Has Braching Point: false
Destination IP: 
Destination Port: 
DataPath Routing Information
1th Node in the Path
Current UPF IP: 192.168.85.225
Previous UPF IP: None
Next UPF IP: None
] {192.168.251.5 855638016}}
2022-06-15T18:33:50Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify txn =  txn-id [8], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb]
2022-06-15T18:33:50Z[31m [ERRO][SMF][Fsm][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mdb - HandleStateActiveEventPduSessModify smCtxt = &{urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb false imsi-208930100007497  imsi-208930100007497 msisdn-0900000000 10 internet 0xc0003f2d00 <nil> 0xc0003f2d80 39ceeaed-ae41-4986-b8af-65a82fabe7e5 ACTIVATING 3GPP_ACCESS   0xc000620040  <nil> 0  172.250.0.1 1 {0xc0004c0480 0xc0004c04b0 false 0xc0005586c0 0xc0005586e0  [] <nil>} 0xc0005593e0 0xc000691d00 {39ceeaed-ae41-4986-b8af-65a82fabe7e5 AMF REGISTERED 0 0xc000273b20 0xc000273bc0 [] []   [amf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> 0xc0005b30e0 <nil> <nil> <nil> <nil> <nil> <nil> map[] <nil> false 0xc000273e80 false false []} {a29fa70b-bfa3-4e78-926b-48ca744ef252 PCF REGISTERED 0 0xc000558da0 <nil> [] []   [pcf] [] <nil> [] [] <nil> 0 0 0  <nil> <nil> <nil> <nil> <nil> <nil> 0xc00012ee10 <nil> <nil> <nil> map[] <nil> false 0xc000558ec0 false false []} http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 SmStateActive 0xc000290d80 <nil> map[192.168.85.225:
PDR ID:  1
PDR: PDR:[PdrId:[1], Precedence:[250], PDI:[PDI:[SourceInterface:[{0}], LocalFteid:[&{false false false true 1 192.168.252.3 <nil> 0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[&{0}], Far:[FAR:[Id:[1], ApplyAction:[Action:[Dup:false, Nocp:false, Buff:false, Forw:true, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{2}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[1], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
PDR ID:  2
PDR: PDR:[PdrId:[2], Precedence:[250], PDI:[PDI:[SourceInterface:[{1}], LocalFteid:[<nil>], NetworkInstance:[[105 110 116 101 114 110 101 116]], UEIpAddr:[&{false false true false false false 172.250.0.1 <nil> 0}], SdfFilter:[SDF: sdfid:[2], [bid:[false], fl:[false], spi:[false], ttc:[false], fd:[true], flowdesc:[permit out ip from any to assigned], lenfd:[34], tosclass:[]], spi:[], flowlabel:[] ], AppId:[]]], OuterHeaderRem:[<nil>], Far:[FAR:[Id:[2], ApplyAction:[Action:[Dup:false, Nocp:true, Buff:true, Forw:false, Drop:false]], FrwdParam:[FwdParam:[DestIntf:[{0}], NetworkInstance:[[105 110 116 101 114 110 101 116]], OuterHeaderCreation:[<nil>], PFCPSMReqFlags:[<nil>], ForwardingPolicyID:[]]], BAR:[<nil>], State:[1]]], RuleState:[1], QERS:[[
QER:[Id:[2], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]] 
QER:[Id:[3], QFI:[{1}], MBR:[UL:[4000], DL:[20000]], Gate:[UL:[0], DL:[0]], RuleState:[1]]]]]
Node ID:  192.168.85.225
LocalSEID:  1
RemoteSEID:  928819077229627824

] 0xc000090150 map[] false false 0xc000916c00 [] {{map[internet-1:0xc000123880] internet-1 0xc000123880} {map[ALLOW-ALL:0xc000467ba0]} {map[1:0xc000199130]} {map[TcId-2:0xc0002aff80]} {map[]} {map[]}} 0 0 0xc0005009b8 {0 0} 0xc0001e6620 0xc0001e64d0 0xc0001e65b0 0xc0001e6540 0xc0001e6700 0xc0001e6850 0xc0001e68c0 [] {0 0}  txn-id [8], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] }
PDUSessionSMContextUpdate, txn =   txn-id [8], txn-type [UpdateSmContext], txn-key [urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] 
2022-06-15T18:33:50Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, update received
2022-06-15T18:33:50Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, N2 SM info type PDU_RES_SETUP_RSP received
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:4 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638016e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:true Drop:false Dupl:false Forw:false Nocp:true] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATING]
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638017e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATED]
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStatePfcpModify]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pendingUPF:map[192.168.85.225:true] pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:6 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638017e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:2] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:2 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATED]
2022-06-15T18:33:50Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPDUSessionSMContextUpdate, send PFCP Modification
2022-06-15T18:33:50Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mSent PFCP Session Modify Request to NodeID[192.168.85.225]
2022-06-15T18:33:50Z[36m [INFO][SMF][PFCP] [0mIn HandlePfcpSessionModificationResponse
2022-06-15T18:33:50Z[36m [INFO][SMF][PduSess][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Modification Response Accept
2022-06-15T18:33:50Z[36m [INFO][SMF][PFCP][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mPFCP Session Modification Success[1]
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStatePfcpModify] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638017e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATED]
db - StoreContextInDB(smContext) in sm_context.go!!!
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]]]] Rsp:<nil> TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638017e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATED]
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX][imsi-208930100007497][10][urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb] [0mcontext state change, current state[SmStateActive] next state[SmStateActive]
db - Store SMContext In DB w ref!!
db - in ToBsonM before marshal
db - in customized MarshalJSON 
db - in customized MarshalJSON  UpdateSmContext
db - StoreTxnInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[txnInDB:8])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert failed :  write exception: write errors: [E11000 duplicate key error collection: sdcore.smf.data.transaction index: txnId_1 dup key: { txnId: null }]
db - finished StoreTxnInDB In DB!!
db - in StoreDataPathNode
db - In GetNodeIDInDB
db - in StoreDataPathNode checking upLinkTunnel
db - in StoreDataPathNode checking downLinkTunnel
db - in StoreDataPathNode return dataPathNodeInDB
db - storeNodeInDB In DB!!
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter : %!(EXTRA primitive.M=map[nodeIDInDB:{2 [117 112 102]}])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mitem not found:  mongo: no documents in result
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0minsert success :  map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]]
db - finished storeNodeInDB In DB!!
db - in MarshalJSON before return
db - in ToBsonM before Unmarshal
db - in StoreSmContextInDB after ToBsonM
2022-06-15T18:33:50Z[36m [INFO][SMF][CTX] [0mfilter: %!(EXTRA primitive.M=map[ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb])
2022-06-15T18:33:50Z[36m [INFO][LIB][MonDB] [0mupdate success :  map[activeTxn:map[CtxtKey:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb CtxtRef:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb Err:<nil> MsgType:UpdateSmContext NextTxnId:0 Priority:0 Req:map[binaryDataN2SmInformation:AAPgwKj7BTMAAAEAAQ== jsonData:map[n2SmInfo:map[contentId:N2SmInfo] n2SmInfoType:PDU_RES_SETUP_RSP ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]]]] Rsp:map[Body:map[jsonData:map[]] Header:<nil> Status:200] TxnId:8] amfProfile:map[amfInfo:map[amfRegionId:ca amfSetId:3f8 guamiList:[map[amfId:cafe00 plmnId:map[mcc:208 mnc:93]]] taiList:[map[plmnId:map[mcc:208 mnc:93] tac:1]]] ipv4Addresses:[amf] nfInstanceId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 nfServices:[map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:namf-mt versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:namf-loc versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:namf-oam versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:namf-comm versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://amf:29518 ipEndPoints:[map[ipv4Address:amf port:29518 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:namf-evts versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:AMF plmnList:[map[mcc:208 mnc:93]] sNssais:[map[sd:010203 sst:1]]] anType:3GPP_ACCESS communicationClient:map[AmfStatusChangeCallbackDocumentApiServiceCallbackDocumentApi:map[] IndividualSubscriptionDocumentApi:map[] IndividualUeContextDocumentApi:map[] N1MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N1N2IndividualSubscriptionDocumentApi:map[] N1N2MessageCollectionDocumentApi:map[] N1N2MessageTransferStatusNotificationCallbackDocumentApi:map[] N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApi:map[] N2InfoNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] N2MessageNotifyCallbackDocumentApiServiceCallbackDocumentApi:map[] NonUEN2MessageNotificationIndividualSubscriptionDocumentApi:map[] NonUEN2MessagesCollectionDocumentApi:map[] NonUEN2MessagesSubscriptionsCollectionDocumentApi:map[] SubscriptionsCollectionDocumentApi:map[]] dnn:internet dnnConfiguration:map[5gQosProfile:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:8] priorityLevel:8] pduSessionTypes:map[allowedSessionTypes:[IPV4] defaultSessionType:IPV4] sessionAmbr:map[downlink:20 Mbps uplink:4 Mbps] sscModes:map[allowedSscModes:[SSC_MODE_2 SSC_MODE_3] defaultSscMode:SSC_MODE_1]] dnnInfo:map[DNS:map[IPv4Addr:8.8.8.8 IPv6Addr:] MTU:1460 UeIPAllocator:map[]] gpsi:msisdn-0900000000 identifier:imsi-208930100007497 pduAddress:172.250.0.1 pduSessionID:10 pfcpContext:map[192.168.85.225:map[LocalSEID:1 NodeID:map[NodeIdType:2 NodeIdValue:dXBm] PDRs:map[1:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>] 2:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] RemoteSEID:9.288190772296278e+17]] protocolConfigurationOptions:map[DNSIPv4Request:true DNSIPv6Request:true IPv4LinkMTURequest:true] ref:urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb selectedPCFProfile:map[ipv4Addresses:[pcf] nfInstanceId:a29fa70b-bfa3-4e78-926b-48ca744ef252 nfServices:[map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:5 serviceName:npcf-ue-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:0 serviceName:npcf-am-policy-control versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:1 serviceName:npcf-smpolicycontrol supportedFeatures:3fff versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:2 serviceName:npcf-bdtpolicycontrol versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:3 serviceName:npcf-policyauthorization supportedFeatures:3 versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]] map[apiPrefix:http://pcf:29507 ipEndPoints:[map[ipv4Address:pcf port:29507 transport:TCP]] nfServiceStatus:REGISTERED scheme:http serviceInstanceId:4 serviceName:npcf-eventexposure versions:[map[apiFullVersion:1.0.0 apiVersionInUri:v1]]]] nfStatus:REGISTERED nfType:PCF pcfInfo:map[dnnList:[free5gc internet]] plmnList:[map[mcc:208 mnc:93] map[mcc:333 mnc:88]]] selectedPDUSessionType:1 servingNetwork:map[mcc:208 mnc:93] servingNfId:39ceeaed-ae41-4986-b8af-65a82fabe7e5 smContextState:2 smLock:map[] smPolicyClient:map[DefaultApi:map[] DefaultCallbackApi:map[]] smPolicyData:map[SmCtxtChargingData:map[ChargingData:map[]] SmCtxtCondData:map[CondData:map[]] SmCtxtPccRules:map[PccRules:map[ALLOW-ALL:map[flowInfos:[map[flowDescription:permit out ip from any to assigned flowDirection:BIDIRECTIONAL packFiltId:2]] pccRuleId:1 precedence:250 refQosData:[1] refTcData:[TcId-2]]]] SmCtxtQosData:map[QosData:map[1:map[5qi:9 arp:map[preemptCap:MAY_PREEMPT preemptVuln:PREEMPTABLE priorityLevel:6] defQosFlowIndication:true maxbrDl:20000 Kbps maxbrUl:4000 Kbps qosId:1]]] SmCtxtSessionRules:map[ActiveRule:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1] ActiveRuleName:internet-1 SessionRules:map[internet-1:map[authDefQos:map[5qi:9 arp:map[preemptCap: preemptVuln: priorityLevel:6]] authSessAmbr:map[downlink:20000 Kbps uplink:4000 Kbps] sessRuleId:internet-1]]] SmCtxtTCData:map[TrafficControlData:map[TcId-2:map[flowStatus:ENABLED tcId:TcId-2]]]] smPolicyUpdates:[] smStatusNotifyUri:http://amf:29518/namf-callback/v1/smContextStatus/20893cafe0000000001/10 smTxnBusLock:map[] snssai:map[sd:010203 sst:1] supi:imsi-208930100007497 tunnel:map[ANInformation:map[IPAddress:192.168.251.5 TEID:8.55638017e+08] DataPathPool:map[1:map[Activated:true Destination:map[DestinationIP: DestinationPort: Url:] FirstDPNode:map[DLTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:2 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:0] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:map[Ipv4Address:192.168.251.5 Ipv6Address: OuterHeaderCreationDescription:1 PortNumber:0 Teid:8.55638017e+08] PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:<nil> PDI:map[ApplicationID: LocalFTeid:<nil> NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:1] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:2 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:2 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:2] DataPathNodeUPFNodeID:map[NodeIdType:2 NodeIdValue:dXBm] IsBranchingPoint:false ULTunnelInfo:map[DataPathNodeUPFNodeID:map[NodeIdType:0 NodeIdValue:<nil>] PDR:map[ALLOW-ALL:map[FAR:map[ApplyAction:map[Buff:false Drop:false Dupl:false Forw:true Nocp:false] BAR:<nil> FARID:1 ForwardingParameters:map[DestinationInterface:map[InterfaceValue:2] ForwardingPolicyID: NetworkInstance:aW50ZXJuZXQ= OuterHeaderCreation:<nil> PFCPSMReqFlags:<nil>] State:1] OuterHeaderRemoval:map[OuterHeaderRemovalDescription:0] PDI:map[ApplicationID: LocalFTeid:map[Ch:false Chid:false ChooseId:0 Ipv4Address:192.168.252.3 Ipv6Address: Teid:1 V4:true V6:false] NetworkInstance:aW50ZXJuZXQ= SDFFilter:map[Bid:false Fd:true Fl:false FlowDescription:cGVybWl0IG91dCBpcCBmcm9tIGFueSB0byBhc3NpZ25lZA== FlowLabel:<nil> LengthOfFlowDescription:34 SdfFilterId:2 SecurityParameterIndex:<nil> Spi:false TosTrafficClass:<nil> Ttc:false] SourceInterface:map[InterfaceValue:0] UEIPAddress:map[CHV4:false CHV6:false Ipv4Address:172.250.0.1 Ipv6Address: Ipv6PrefixDelegationBits:0 Ipv6d:false Sd:false V4:true V6:false]] PDRID:1 Precedence:250 QER:[map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:1 QFI:map[QFI:1] State:1] map[GBR:<nil> GateStatus:map[DLGate:0 ULGate:0] MBR:map[DLMBR:20000 ULMBR:4000] QERID:3 QFI:map[QFI:1] State:1]] State:1 URR:<nil>]] TEID:1]] HasBranchingPoint:false IsDefaultPath:true]] PathIDGenerator:<nil>] ueLocation:map[nrLocation:map[ncgi:map[nrCellId:000000001 plmnId:map[mcc:208 mnc:93]] tai:map[plmnId:map[mcc:208 mnc:93] tac:000011] ueLocationTimestamp:2022-06-15T18:33:49.286254017Z]] upCnxState:ACTIVATED]
2022-06-15T18:33:50Z[36m [INFO][SMF][TxnFsm][][8][UpdateSmContext] [0mtxn ended, execution time [33.057144ms]
2022-06-15T18:33:50Z[36m [INFO][SMF][GIN] [0m| 200 |  192.168.84.255 | POST    | /nsmf-pdusession/v1/sm-contexts/urn:uuid:978c35e6-456d-4daa-85f5-56b4950afebb/modify |
